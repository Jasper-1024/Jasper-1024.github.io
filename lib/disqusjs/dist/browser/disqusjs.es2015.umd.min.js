var e,n;e=this,n=function(){"use strict";function e(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function n(n){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),o.forEach(function(t){e(n,t,r[t])})}return n}var t,r,o,l,i,_,s,u,c,a,d,f,p,h={},m=[],v=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,y=Array.isArray;function g(e,n){for(var t in n)e[t]=n[t];return e}function b(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function q(e,n,t){var o,l,i,_={};for(i in n)"key"==i?o=n[i]:"ref"==i?l=n[i]:_[i]=n[i];if(arguments.length>2&&(_.children=arguments.length>3?r.call(arguments,2):t),"function"==typeof e&&null!=e.defaultProps)for(i in e.defaultProps)void 0===_[i]&&(_[i]=e.defaultProps[i]);return k(e,_,o,l,null)}function k(e,n,t,r,i){var _={type:e,props:n,key:t,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==i?++l:i,__i:-1,__u:0};return null==i&&null!=o.vnode&&o.vnode(_),_}function j(e){return e.children}function w(e,n){this.props=e,this.context=n}function N(e,n){if(null==n)return e.__?N(e.__,e.__i+1):null;for(var t;n<e.__k.length;n++)if(null!=(t=e.__k[n])&&null!=t.__e)return t.__e;return"function"==typeof e.type?N(e):null}function P(e){(!e.__d&&(e.__d=!0)&&i.push(e)&&!S.__r++||_!==o.debounceRendering)&&((_=o.debounceRendering)||s)(S)}function S(){for(var e,n,t,r,l,_,s=1;i.length;)i.length>s&&i.sort(u),e=i.shift(),s=i.length,e.__d&&(n=void 0,r=(t=e.__v).__e,l=[],_=[],e.__P&&((n=g({},t)).__v=t.__v+1,o.vnode&&o.vnode(n),U(e.__P,n,t,e.__n,e.__P.namespaceURI,32&t.__u?[r]:null,l,null==r?N(t):r,!!(32&t.__u),_),n.__v=t.__v,n.__.__k[n.__i]=n,H(l,n,_),n.__e!=r&&function e(n){var t,r;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,t=0;t<n.__k.length;t++)if(null!=(r=n.__k[t])&&null!=r.__e){n.__e=n.__c.base=r.__e;break}return e(n)}}(n)));S.__r=0}function C(e,n,t,r,l,i,_,s,u,c,a){var d,f,p,v,g,q,w=r&&r.__k||m,P=n.length;for(u=function(e,n,t,r,l){var i,_,s,u,c,a=t.length,d=a,f=0;for(e.__k=Array(l),i=0;i<l;i++)null!=(_=n[i])&&"boolean"!=typeof _&&"function"!=typeof _?(u=i+f,(_=e.__k[i]="string"==typeof _||"number"==typeof _||"bigint"==typeof _||_.constructor==String?k(null,_,null,null,null):y(_)?k(j,{children:_},null,null,null):void 0===_.constructor&&_.__b>0?k(_.type,_.props,_.key,_.ref?_.ref:null,_.__v):_).__=e,_.__b=e.__b+1,s=null,-1!==(c=_.__i=function(e,n,t,r){var o,l,i=e.key,_=e.type,s=n[t];if(null===s&&null==e.key||s&&i==s.key&&_===s.type&&0==(2&s.__u))return t;if(r>+(null!=s&&0==(2&s.__u)))for(o=t-1,l=t+1;o>=0||l<n.length;){if(o>=0){if((s=n[o])&&0==(2&s.__u)&&i==s.key&&_===s.type)return o;o--}if(l<n.length){if((s=n[l])&&0==(2&s.__u)&&i==s.key&&_===s.type)return l;l++}}return -1}(_,t,u,d))&&(d--,(s=t[c])&&(s.__u|=2)),null==s||null===s.__v?(-1==c&&(l>a?f--:l<a&&f++),"function"!=typeof _.type&&(_.__u|=4)):c!=u&&(c==u-1?f--:c==u+1?f++:(c>u?f--:f++,_.__u|=4))):e.__k[i]=null;if(d)for(i=0;i<a;i++)null!=(s=t[i])&&0==(2&s.__u)&&(s.__e==r&&(r=N(s)),function e(n,t,r){var l,i;if(o.unmount&&o.unmount(n),(l=n.ref)&&(l.current&&l.current!==n.__e||T(l,null,t)),null!=(l=n.__c)){if(l.componentWillUnmount)try{l.componentWillUnmount()}catch(e){o.__e(e,t)}l.base=l.__P=null}if(l=n.__k)for(i=0;i<l.length;i++)l[i]&&e(l[i],t,r||"function"!=typeof n.type);r||b(n.__e),n.__c=n.__=n.__e=void 0}(s,s));return r}(t,n,w,u,P),d=0;d<P;d++)null!=(p=t.__k[d])&&(f=-1===p.__i?h:w[p.__i]||h,p.__i=d,q=U(e,p,f,l,i,_,s,u,c,a),v=p.__e,p.ref&&f.ref!=p.ref&&(f.ref&&T(f.ref,null,p),a.push(p.ref,p.__c||v,p)),null==g&&null!=v&&(g=v),4&p.__u||f.__k===p.__k?u=function e(n,t,r){var o,l;if("function"==typeof n.type){for(o=n.__k,l=0;o&&l<o.length;l++)o[l]&&(o[l].__=n,t=e(o[l],t,r));return t}n.__e!=t&&(t&&n.type&&!r.contains(t)&&(t=N(n)),r.insertBefore(n.__e,t||null),t=n.__e);do t=t&&t.nextSibling;while(null!=t&&8==t.nodeType);return t}(p,u,e):"function"==typeof p.type&&void 0!==q?u=q:v&&(u=v.nextSibling),p.__u&=-7);return t.__e=g,u}function x(e,n){return n=n||[],null==e||"boolean"==typeof e||(y(e)?e.some(function(e){x(e,n)}):n.push(e)),n}function E(e,n,t){"-"==n[0]?e.setProperty(n,null==t?"":t):e[n]=null==t?"":"number"!=typeof t||v.test(n)?t:t+"px"}function O(e,n,t,r,o){var l;e:if("style"==n)if("string"==typeof t)e.style.cssText=t;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(n in r)t&&n in t||E(e.style,n,"");if(t)for(n in t)r&&t[n]===r[n]||E(e.style,n,t[n])}else if("o"==n[0]&&"n"==n[1])l=n!=(n=n.replace(c,"$1")),n=n.toLowerCase()in e||"onFocusOut"==n||"onFocusIn"==n?n.toLowerCase().slice(2):n.slice(2),e.l||(e.l={}),e.l[n+l]=t,t?r?t.t=r.t:(t.t=a,e.addEventListener(n,l?f:d,l)):e.removeEventListener(n,l?f:d,l);else{if("http://www.w3.org/2000/svg"==o)n=n.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=n&&"height"!=n&&"href"!=n&&"list"!=n&&"form"!=n&&"tabIndex"!=n&&"download"!=n&&"rowSpan"!=n&&"colSpan"!=n&&"role"!=n&&"popover"!=n&&n in e)try{e[n]=null==t?"":t;break e}catch(e){}"function"==typeof t||(null==t||!1===t&&"-"!=n[4]?e.removeAttribute(n):e.setAttribute(n,"popover"==n&&1==t?"":t))}}function D(e){return function(n){if(this.l){var t=this.l[n.type+e];if(null==n.u)n.u=a++;else if(n.u<t.t)return;return t(o.event?o.event(n):n)}}}function U(e,n,t,l,i,_,s,u,c,a){var d,f,p,m,v,q,k,P,S,x,E,D,U,H,T,A,I,M=n.type;if(void 0!==n.constructor)return null;128&t.__u&&(c=!!(32&t.__u),_=[u=n.__e=t.__e]),(d=o.__b)&&d(n);e:if("function"==typeof M)try{if(P=n.props,S="prototype"in M&&M.prototype.render,x=(d=M.contextType)&&l[d.__c],E=d?x?x.props.value:d.__:l,t.__c?k=(f=n.__c=t.__c).__=f.__E:(S?n.__c=f=new M(P,E):(n.__c=f=new w(P,E),f.constructor=M,f.render=$),x&&x.sub(f),f.props=P,f.state||(f.state={}),f.context=E,f.__n=l,p=f.__d=!0,f.__h=[],f._sb=[]),S&&null==f.__s&&(f.__s=f.state),S&&null!=M.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=g({},f.__s)),g(f.__s,M.getDerivedStateFromProps(P,f.__s))),m=f.props,v=f.state,f.__v=n,p)S&&null==M.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),S&&null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(S&&null==M.getDerivedStateFromProps&&P!==m&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(P,E),!f.__e&&(null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(P,f.__s,E)||n.__v==t.__v)){for(n.__v!=t.__v&&(f.props=P,f.state=f.__s,f.__d=!1),n.__e=t.__e,n.__k=t.__k,n.__k.some(function(e){e&&(e.__=n)}),D=0;D<f._sb.length;D++)f.__h.push(f._sb[D]);f._sb=[],f.__h.length&&s.push(f);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(P,f.__s,E),S&&null!=f.componentDidUpdate&&f.__h.push(function(){f.componentDidUpdate(m,v,q)})}if(f.context=E,f.props=P,f.__P=e,f.__e=!1,U=o.__r,H=0,S){for(f.state=f.__s,f.__d=!1,U&&U(n),d=f.render(f.props,f.state,f.context),T=0;T<f._sb.length;T++)f.__h.push(f._sb[T]);f._sb=[]}else do f.__d=!1,U&&U(n),d=f.render(f.props,f.state,f.context),f.state=f.__s;while(f.__d&&++H<25);f.state=f.__s,null!=f.getChildContext&&(l=g(g({},l),f.getChildContext())),S&&!p&&null!=f.getSnapshotBeforeUpdate&&(q=f.getSnapshotBeforeUpdate(m,v)),A=d,null!=d&&d.type===j&&null==d.key&&(A=function e(n){return"object"!=typeof n||null==n?n:y(n)?n.map(e):g({},n)}(d.props.children)),u=C(e,y(A)?A:[A],n,t,l,i,_,s,u,c,a),f.base=n.__e,n.__u&=-161,f.__h.length&&s.push(f),k&&(f.__E=f.__=null)}catch(e){if(n.__v=null,c||null!=_)if(e.then){for(n.__u|=c?160:128;u&&8==u.nodeType&&u.nextSibling;)u=u.nextSibling;_[_.indexOf(u)]=null,n.__e=u}else for(I=_.length;I--;)b(_[I]);else n.__e=t.__e,n.__k=t.__k;o.__e(e,n,t)}else null==_&&n.__v==t.__v?(n.__k=t.__k,n.__e=t.__e):u=n.__e=function(e,n,t,l,i,_,s,u,c){var a,d,f,p,m,v,g,q=t.props,k=n.props,j=n.type;if("svg"==j?i="http://www.w3.org/2000/svg":"math"==j?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),null!=_){for(a=0;a<_.length;a++)if((m=_[a])&&"setAttribute"in m==!!j&&(j?m.localName==j:3==m.nodeType)){e=m,_[a]=null;break}}if(null==e){if(null==j)return document.createTextNode(k);e=document.createElementNS(i,j,k.is&&k),u&&(o.__m&&o.__m(n,_),u=!1),_=null}if(null===j)q===k||u&&e.data===k||(e.data=k);else{if(_=_&&r.call(e.childNodes),q=t.props||h,!u&&null!=_)for(q={},a=0;a<e.attributes.length;a++)q[(m=e.attributes[a]).name]=m.value;for(a in q)if(m=q[a],"children"==a);else if("dangerouslySetInnerHTML"==a)f=m;else if(!(a in k)){if("value"==a&&"defaultValue"in k||"checked"==a&&"defaultChecked"in k)continue;O(e,a,null,m,i)}for(a in k)m=k[a],"children"==a?p=m:"dangerouslySetInnerHTML"==a?d=m:"value"==a?v=m:"checked"==a?g=m:u&&"function"!=typeof m||q[a]===m||O(e,a,m,q[a],i);if(d)u||f&&(d.__html===f.__html||d.__html===e.innerHTML)||(e.innerHTML=d.__html),n.__k=[];else if(f&&(e.innerHTML=""),C("template"===n.type?e.content:e,y(p)?p:[p],n,t,l,"foreignObject"==j?"http://www.w3.org/1999/xhtml":i,_,s,_?_[0]:t.__k&&N(t,0),u,c),null!=_)for(a=_.length;a--;)b(_[a]);u||(a="value","progress"==j&&null==v?e.removeAttribute("value"):void 0===v||v===e[a]&&("progress"!=j||v)&&("option"!=j||v===q[a])||O(e,a,v,q[a],i),a="checked",void 0!==g&&g!==e[a]&&O(e,a,g,q[a],i))}return e}(t.__e,n,t,l,i,_,s,c,a);return(d=o.diffed)&&d(n),128&n.__u?void 0:u}function H(e,n,t){for(var r=0;r<t.length;r++)T(t[r],t[++r],t[++r]);o.__c&&o.__c(n,e),e.some(function(n){try{e=n.__h,n.__h=[],e.some(function(e){e.call(n)})}catch(e){o.__e(e,n.__v)}})}function T(e,n,t){try{if("function"==typeof e){var r="function"==typeof e.__u;r&&e.__u(),r&&null==n||(e.__u=e(n))}else e.current=n}catch(e){o.__e(e,t)}}function $(e,n,t){return this.constructor(e,t)}function A(e,n,t){var l,i,_;n==document&&(n=document.documentElement),o.__&&o.__(e,n),l=n.__k,i=[],_=[],U(n,e=n.__k=q(j,null,[e]),l||h,h,n.namespaceURI,l?null:n.firstChild?r.call(n.childNodes):null,i,l?l.__e:n.firstChild,!1,_),H(i,e,_)}function I(e,n,t){var o,l,i,_,s=g({},e.props);for(i in e.type&&e.type.defaultProps&&(_=e.type.defaultProps),n)"key"==i?o=n[i]:"ref"==i?l=n[i]:s[i]=void 0===n[i]&&void 0!==_?_[i]:n[i];return arguments.length>2&&(s.children=arguments.length>3?r.call(arguments,2):t),k(e.type,s,o||e.key,l||e.ref,null)}function M(e){function n(e){var t,r;return this.getChildContext||(t=new Set,(r={})[n.__c]=this,this.getChildContext=function(){return r},this.componentWillUnmount=function(){t=null},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&t.forEach(function(e){e.__e=!0,P(e)})},this.sub=function(e){t.add(e);var n=e.componentWillUnmount;e.componentWillUnmount=function(){t&&t.delete(e),n&&n.call(e)}}),e.children}return n.__c="__cC"+p++,n.__=e,n.Provider=n.__l=(n.Consumer=function(e,n){return e.children(n)}).contextType=n,n}r=m.slice,o={__e:function(e,n,t,r){for(var o,l,i;n=n.__;)if((o=n.__c)&&!o.__)try{if((l=o.constructor)&&null!=l.getDerivedStateFromError&&(o.setState(l.getDerivedStateFromError(e)),i=o.__d),null!=o.componentDidCatch&&(o.componentDidCatch(e,r||{}),i=o.__d),i)return o.__E=o}catch(n){e=n}throw e}},l=0,w.prototype.setState=function(e,n){var t;t=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=g({},this.state),"function"==typeof e&&(e=e(g({},t),this.props)),e&&g(t,e),null!=e&&this.__v&&(n&&this._sb.push(n),P(this))},w.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),P(this))},w.prototype.render=j,i=[],s="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,u=function(e,n){return e.__v.__b-n.__v.__b},S.__r=0,c=/(PointerCapture)$|Capture$/i,a=0,d=D(!1),f=D(!0),p=0;var R,L,F,W,B=0,V=[],Q=o,z=Q.__b,J=Q.__r,Z=Q.diffed,Y=Q.__c,G=Q.unmount,K=Q.__;function X(e,n){Q.__h&&Q.__h(L,e,B||n),B=0;var t=L.__H||(L.__H={__:[],__h:[]});return e>=t.__.length&&t.__.push({}),t.__[e]}function ee(e){return B=1,function(e,n,t){var r=X(R++,2);if(r.t=e,!r.__c&&(r.__=[ea(void 0,n),function(e){var n=r.__N?r.__N[0]:r.__[0],t=r.t(n,e);n!==t&&(r.__N=[t,r.__[1]],r.__c.setState({}))}],r.__c=L,!L.__f)){var o=function(e,n,t){if(!r.__c.__H)return!0;var o=r.__c.__H.__.filter(function(e){return!!e.__c});if(o.every(function(e){return!e.__N}))return!l||l.call(this,e,n,t);var i=r.__c.props!==e;return o.forEach(function(e){if(e.__N){var n=e.__[0];e.__=e.__N,e.__N=void 0,n!==e.__[0]&&(i=!0)}}),l&&l.call(this,e,n,t)||i};L.__f=!0;var l=L.shouldComponentUpdate,i=L.componentWillUpdate;L.componentWillUpdate=function(e,n,t){if(this.__e){var r=l;l=void 0,o(e,n,t),l=r}i&&i.call(this,e,n,t)},L.shouldComponentUpdate=o}return r.__N||r.__}(ea,e)}function en(e,n){var t=X(R++,3);!Q.__s&&ec(t.__H,n)&&(t.__=e,t.u=n,L.__H.__h.push(t))}function et(e){return B=5,er(function(){return{current:e}},[])}function er(e,n){var t=X(R++,7);return ec(t.__H,n)&&(t.__=e(),t.__H=n,t.__h=e),t.__}function eo(e,n){return B=8,er(function(){return e},n)}function el(e){var n=L.context[e.__c],t=X(R++,9);return t.c=e,n?(null==t.__&&(t.__=!0,n.sub(L)),n.props.value):e.__}function ei(){for(var e;e=V.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(es),e.__H.__h.forEach(eu),e.__H.__h=[]}catch(n){e.__H.__h=[],Q.__e(n,e.__v)}}Q.__b=function(e){L=null,z&&z(e)},Q.__=function(e,n){e&&n.__k&&n.__k.__m&&(e.__m=n.__k.__m),K&&K(e,n)},Q.__r=function(e){J&&J(e),R=0;var n=(L=e.__c).__H;n&&(F===L?(n.__h=[],L.__h=[],n.__.forEach(function(e){e.__N&&(e.__=e.__N),e.u=e.__N=void 0})):(n.__h.forEach(es),n.__h.forEach(eu),n.__h=[],R=0)),F=L},Q.diffed=function(e){Z&&Z(e);var n=e.__c;n&&n.__H&&(n.__H.__h.length&&(1!==V.push(n)&&W===Q.requestAnimationFrame||((W=Q.requestAnimationFrame)||function(e){var n,t=function(){clearTimeout(r),e_&&cancelAnimationFrame(n),setTimeout(e)},r=setTimeout(t,100);e_&&(n=requestAnimationFrame(t))})(ei)),n.__H.__.forEach(function(e){e.u&&(e.__H=e.u),e.u=void 0})),F=L=null},Q.__c=function(e,n){n.some(function(e){try{e.__h.forEach(es),e.__h=e.__h.filter(function(e){return!e.__||eu(e)})}catch(t){n.some(function(e){e.__h&&(e.__h=[])}),n=[],Q.__e(t,e.__v)}}),Y&&Y(e,n)},Q.unmount=function(e){G&&G(e);var n,t=e.__c;t&&t.__H&&(t.__H.__.forEach(function(e){try{es(e)}catch(e){n=e}}),t.__H=void 0,n&&Q.__e(n,t.__v))};var e_="function"==typeof requestAnimationFrame;function es(e){var n=L,t=e.__c;"function"==typeof t&&(e.__c=void 0,t()),L=n}function eu(e){var n=L;e.__c=e.__(),L=n}function ec(e,n){return!e||e.length!==n.length||n.some(function(n,t){return n!==e[t]})}function ea(e,n){return"function"==typeof n?n(e):n}function ed(e,n){for(var t in n)e[t]=n[t];return e}function ef(e,n){for(var t in e)if("__source"!==t&&!(t in n))return!0;for(var r in n)if("__source"!==r&&e[r]!==n[r])return!0;return!1}function ep(e,n){this.props=e,this.context=n}function eh(e,n){function t(e){var t=this.props.ref,r=t==e.ref;return!r&&t&&(t.call?t(null):t.current=null),n?!n(this.props,e)||!r:ef(this.props,e)}function r(n){return this.shouldComponentUpdate=t,q(e,n)}return r.displayName="Memo("+(e.displayName||e.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}(ep.prototype=new w).isPureReactComponent=!0,ep.prototype.shouldComponentUpdate=function(e,n){return ef(this.props,e)||ef(this.state,n)};var em=o.__b;o.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),em&&em(e)};var ev="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911,ey=o.__e;o.__e=function(e,n,t,r){if(e.then){for(var o,l=n;l=l.__;)if((o=l.__c)&&o.__c)return null==n.__e&&(n.__e=t.__e,n.__k=t.__k),o.__c(e,n)}ey(e,n,t,r)};var eg=o.unmount;function eb(){this.__u=0,this.o=null,this.__b=null}function eq(e){var n=e.__.__c;return n&&n.__a&&n.__a(e)}function ek(){this.i=null,this.l=null}o.unmount=function(e){var n=e.__c;n&&n.__R&&n.__R(),n&&32&e.__u&&(e.type=null),eg&&eg(e)},(eb.prototype=new w).__c=function(e,n){var t=n.__c,r=this;null==r.o&&(r.o=[]),r.o.push(t);var o=eq(r.__v),l=!1,i=function(){l||(l=!0,t.__R=null,o?o(_):_())};t.__R=i;var _=function(){if(!--r.__u){if(r.state.__a){var e,n=r.state.__a;r.__v.__k[0]=function e(n,t,r){return n&&r&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(n){return e(n,t,r)}),n.__c&&n.__c.__P===t&&(n.__e&&r.appendChild(n.__e),n.__c.__e=!0,n.__c.__P=r)),n}(n,n.__c.__P,n.__c.__O)}for(r.setState({__a:r.__b=null});e=r.o.pop();)e.forceUpdate()}};r.__u++||32&n.__u||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(i,i)},eb.prototype.componentWillUnmount=function(){this.o=[]},eb.prototype.render=function(e,n){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=function e(n,t,r){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(e){"function"==typeof e.__c&&e.__c()}),n.__c.__H=null),null!=(n=ed({},n)).__c&&(n.__c.__P===r&&(n.__c.__P=t),n.__c=null),n.__k=n.__k&&n.__k.map(function(n){return e(n,t,r)})),n}(this.__b,t,r.__O=r.__P)}this.__b=null}var o=n.__a&&q(j,null,e.fallback);return o&&(o.__u&=-33),[q(j,null,n.__a?null:e.children),o]};var ej=function(e,n,t){if(++t[1]===t[0]&&e.l.delete(n),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.l.size))for(t=e.i;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;e.i=t=t[2]}};(ek.prototype=new w).__a=function(e){var n=this,t=eq(n.__v),r=n.l.get(e);return r[0]++,function(o){var l=function(){n.props.revealOrder?(r.push(o),ej(n,e,r)):o()};t?t(l):l()}},ek.prototype.render=function(e){this.i=null,this.l=new Map;var n=x(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&n.reverse();for(var t=n.length;t--;)this.l.set(n[t],this.i=[1,0,this.i]);return e.children},ek.prototype.componentDidUpdate=ek.prototype.componentDidMount=function(){var e=this;this.l.forEach(function(n,t){ej(e,t,n)})};var ew="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,eN=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,eP=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,eS=/[A-Z0-9]/g,eC="undefined"!=typeof document;w.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(w.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(n){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:n})}})});var ex=o.event;function eE(){}function eO(){return this.cancelBubble}function eD(){return this.defaultPrevented}o.event=function(e){return ex&&(e=ex(e)),e.persist=eE,e.isPropagationStopped=eO,e.isDefaultPrevented=eD,e.nativeEvent=e};var eU={enumerable:!1,configurable:!0,get:function(){return this.class}},eH=o.vnode;o.vnode=function(e){"string"==typeof e.type&&function(e){var n=e.props,t=e.type,r={},o=-1===t.indexOf("-");for(var l in n){var i=n[l];if(!("value"===l&&"defaultValue"in n&&null==i||eC&&"children"===l&&"noscript"===t||"class"===l||"className"===l)){var _,s=l.toLowerCase();"defaultValue"===l&&"value"in n&&null==n.value?l="value":"download"===l&&!0===i?i="":"translate"===s&&"no"===i?i=!1:"o"===s[0]&&"n"===s[1]?"ondoubleclick"===s?l="ondblclick":"onchange"!==s||"input"!==t&&"textarea"!==t||(_=n.type,("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(_))?"onfocus"===s?l="onfocusin":"onblur"===s?l="onfocusout":eP.test(l)&&(l=s):s=l="oninput":o&&eN.test(l)?l=l.replace(eS,"-$&").toLowerCase():null===i&&(i=void 0),"oninput"===s&&r[l=s]&&(l="oninputCapture"),r[l]=i}}"select"==t&&r.multiple&&Array.isArray(r.value)&&(r.value=x(n.children).forEach(function(e){e.props.selected=-1!=r.value.indexOf(e.props.value)})),"select"==t&&null!=r.defaultValue&&(r.value=x(n.children).forEach(function(e){e.props.selected=r.multiple?-1!=r.defaultValue.indexOf(e.props.value):r.defaultValue==e.props.value})),n.class&&!n.className?(r.class=n.class,Object.defineProperty(r,"className",eU)):(n.className&&!n.class||n.class&&n.className)&&(r.class=r.className=n.className),e.props=r}(e),e.$$typeof=ew,eH&&eH(e)};var eT=o.__r;o.__r=function(e){eT&&eT(e),e.__c};var e$=o.diffed;o.diffed=function(e){e$&&e$(e);var n=e.props,t=e.__e;null!=t&&"textarea"===e.type&&"value"in n&&n.value!==t.value&&(t.value=null==n.value?"":n.value)};var eA=0;function eI(e,n,t,r,l,i){n||(n={});var _,s,u=n;if("ref"in u)for(s in u={},n)"ref"==s?_=n[s]:u[s]=n[s];var c={type:e,props:u,key:t,ref:_,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--eA,__i:-1,__u:0,__source:l,__self:i};if("function"==typeof e&&(_=e.defaultProps))for(s in _)void 0===u[s]&&(u[s]=_[s]);return o.vnode&&o.vnode(c),c}function eM(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):(function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t.push.apply(t,r)}return t})(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}),e}function eR(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},l=Object.keys(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)t=l[r],!(n.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}let eL=eh(e=>{let{contexts:n,children:t}=e;return n.reduceRight((e,n)=>(function(e){return e&&e.$$typeof===ew?I.apply(null,arguments):e})(n,{children:e}),t)}),eF=eh(()=>eI("footer",{className:"dsqjs-footer-container",children:eI("p",{className:"dsqjs-footer",children:["Powered by ",eI("a",{className:"dsqjs-disqus-logo",href:"https://disqus.com",target:"_blank",rel:"external nofollow noopener noreferrer"})," ","&"," ",eI("a",{className:"dsqjs-dsqjs-logo",href:"https://disqusjs.skk.moe",target:"_blank",children:"DisqusJS"})]})}));var eW={dsqjs:"__dsqjs_1l1du3"};let eB=function(e,n){en(()=>{let n=new AbortController,t=e(n.signal);return()=>{n.abort(),null==t||t()}},n)},eV=()=>{};function eQ(e){let n=M(e),t=M(eV);return[r=>{let{children:o}=r,[l,i]=ee(e);return eI(n.Provider,{value:l,children:eI(t.Provider,{value:i,children:o})})},()=>el(n),()=>el(t),n]}let[ez,eJ,eZ]=eQ(function(){{let e=localStorage.getItem("dsqjs_mode");if("dsqjs"===e||"disqus"===e)return e}return null}());function eY(){let e=eZ();return eo(n=>{e(n),Promise.resolve(()=>{null===n?localStorage.removeItem("dsqjs_mode"):localStorage.setItem("dsqjs_mode",n)})},[e])}let[eG,eK,eX]=eQ(!1),e0=eh(e=>{var{isError:t,isLoading:r}=e,o=eR(e,["isError","isLoading"]);let l=er(()=>t?"加载失败，请重试":r?"正在加载...":"加载更多评论",[t,r]);return eI("a",eM(n({},o),{id:"dsqjs-load-more",className:"dsqjs-load-more "+(t?"is-error":""),role:"button",children:l}))}),e1=eh(({children:e})=>{let n=eY();return eI("a",{id:"dsqjs-force-disqus",className:"dsqjs-msg-btn",onClick:()=>n("disqus"),children:e})}),e2=eh(({children:e})=>{let n=eY();return eI("a",{id:"dsqjs-test-disqus",className:"dsqjs-msg-btn",onClick:()=>n(null),role:"button",children:e})}),e3=eh(({children:e})=>{let n=eY();return eI("a",{id:"dsqjs-force-dsqjs",className:"dsqjs-msg-btn",onClick:()=>n("dsqjs"),role:"button",children:e})}),e9=eh(({children:e})=>{let n=eX();return eI("a",{id:"dsqjs-reload-dsqjs",className:"dsqjs-msg-btn",onClick:()=>n(!1),role:"button",children:e})}),[e8,e4,e6]=eQ(null),e5=function(e,n){var t=X(R++,4);!Q.__s&&ec(t.__H,n)&&(t.__=e,t.u=n,L.__h.push(t))},e7="disqus_thread",ne="dsq-embed-scr",nn=eh(({shortname:e,identifier:n,url:t,title:r})=>{let o=e6(),[l,i]=ee(!1);return e5(()=>o(null)),en(()=>{let o=()=>{{var e;window.disqus_config=void 0;let n=document.getElementById(ne);n&&(document.head.removeChild(n),n.remove()),null===(e=window.DISQUS)||void 0===e||e.reset({});try{delete window.DISQUS}catch(e){window.DISQUS=void 0}let t=document.getElementById(e7);if(t)for(;t.hasChildNodes();)t.firstChild&&t.firstChild.remove();document.querySelectorAll('link[href*="disquscdn.com/next"], link[href*="disqus.com/next"], script[src*="disquscdn.com/next/embed"], script[src*="disqus.com/count-data.js"], iframe[title="Disqus"]').forEach(e=>e.remove())}};window.disqus_shortname!==e&&o();let l=()=>function(){n&&(this.page.identifier=n),t&&(this.page.url=t),r&&(this.page.title=r),this.callbacks.onReady=[()=>i(!0)]};if(window.DISQUS&&document.getElementById(ne))window.DISQUS.reset({reload:!0,config:l()});else{window.disqus_config=l(),window.disqus_shortname=e;let n=document.createElement("script");n.id=ne,n.src=`https://${e}.disqus.com/embed.js`,n.async=!0,document.head.appendChild(n)}return o},[e,n,t,r]),eI(j,{children:[eI("div",{id:e7,children:["评论完整模式加载中... 如果长时间无法加载，请针对 disq.us | disquscdn.com | disqus.com 启用代理，或切换至"," ",eI(e3,{children:"评论基础模式"})]}),!l&&eI("div",{id:"dsqjs-msg",children:["评论完整模式加载中... 如果长时间无法加载，请针对 disq.us | disquscdn.com | disqus.com 启用代理，或切换至"," ",eI(e3,{children:"评论基础模式"})]})]})});function nt(e,n,t,r,o,l,i){try{var _=e[l](i),s=_.value}catch(e){t(e);return}_.done?n(s):Promise.resolve(s).then(r,o)}function nr(e){return function(){var n=this,t=arguments;return new Promise(function(r,o){var l=e.apply(n,t);function i(e){nt(l,r,o,i,_,"next",e)}function _(e){nt(l,r,o,i,_,"throw",e)}i(void 0)})}}let no=eh(()=>eI("div",{id:"dsqjs-msg",children:["评论基础模式加载失败，请"," ",eI(e9,{children:"重载"})," ","或"," ",eI(e2,{children:"尝试完整 Disqus 模式"})]})),nl=eh(()=>eI("div",{id:"dsqjs-msg",children:["当前 Thread 尚未创建。是否切换至"," ",eI(e1,{children:"完整 Disqus 模式"}),"？"]})),ni=eh(({text:e})=>eI("p",{className:"dsqjs-no-comment",children:e}));function n_(e,n){let t=new URL(n);return t.searchParams.set("api_key",e),fetch(t.href).then(e=>e.json())}let ns=e=>new Date(e).getTime(),nu=null;function nc(e){let n=e.replaceAll("a.disquscdn.com","c.disquscdn.com").replaceAll(/https?:\/\/disq.us\/url\?url=(.+)%3A[\w-]+&amp;cuid=\d+/g,(e,n)=>decodeURIComponent(n));nu||(nu=new DOMParser);let t=nu.parseFromString(n,"text/html");return t.querySelectorAll("script").forEach(e=>e.remove()),t.querySelectorAll("a").forEach(e=>{e.target="_blank",e.rel="external noopener nofollow noreferrer"}),t.body.innerHTML}let na=new Date().getTimezoneOffset(),nd=e=>(e+"").padStart(2,"0");function nf(e){return new Promise((n,t)=>{let r=new Image,o=setTimeout(()=>{_(),t()},3e3);function l(){clearTimeout(o),_(),n()}function i(){clearTimeout(o),_(),t()}function _(){r.removeEventListener("load",l),r.removeEventListener("error",i),r.remove()}r.addEventListener("error",i),r.addEventListener("load",l),r.src=`https://${e}/favicon.ico?${Date.now()}=${Date.now()}`})}let np=M(null),nh=np.Provider;function nm(){let e=el(np);if(!e)throw TypeError("<ConfigProvider /> is missing");return e}function nv({comment:e,children:n,nesting:t}){let{admin:r,adminLabel:o}=nm(),l=e.author.profileUrl,i=nc(e.author.avatar.cache),_=eI("img",{alt:e.author.username,src:i});return eI("li",{id:"comment-"+e.id,children:[eI("div",{className:"dsqjs-post-item dsqjs-clearfix",children:[eI("div",{className:"dsqjs-post-avatar",children:l?eI("a",{href:l,target:"_blank",rel:"noreferrer noopenner nofollow external",children:_}):_}),eI("div",{className:"dsqjs-post-body",children:[eI("div",{className:"dsqjs-post-header",children:[l?eI("span",{className:"dsqjs-post-author",children:eI("a",{href:l,target:"_blank",rel:"noreferrer noopenner nofollow external",children:e.author.name})}):eI("span",{className:"dsqjs-post-author",children:e.author.name}),r===e.author.username&&eI("span",{className:"dsqjs-admin-badge",children:o})," ",eI("span",{className:"dsqjs-bullet"})," ",e.createdAt&&eI("span",{className:"dsqjs-meta",children:eI("time",{children:function(e){let n=new Date(ns(e)-60*na*1e3);return`${n.getFullYear()}-${nd(n.getMonth()+1)}-${nd(n.getDate())} ${nd(n.getHours())}:${nd(n.getMinutes())}`}(e.createdAt)})})]}),e.isDeleted?eI("div",{className:"dsqjs-post-content",children:eI("small",{children:"此评论已被删除"})}):eI("div",{className:"dsqjs-post-content",dangerouslySetInnerHTML:{__html:nc(e.message)}})]})]}),eI(ny,{nesting:t,children:n}),e.hasMore&&eI("p",{className:"dsqjs-has-more",children:["切换至 ",eI(e1,{children:"完整 Disqus 模式"})," 显示更多回复"]})]})}function ny({children:e,nesting:t=1}){let{nesting:r=4}=nm();return e&&0!==e.length?eI("ul",{className:"dsqjs-post-list "+(t<r?"dsqjs-children":""),children:e.map(e=>q(nv,eM(n({},e),{key:e.comment.id})))}):null}function ng({comments:e}){return eI("ul",{className:"dsqjs-post-list",id:"dsqjs-post-container",children:er(()=>{let n=[],t=[];return e.map((e,n)=>({i:n,p:e.parent,d:ns(e.createdAt)})).sort((e,n)=>e.p&&n.p?e.d-n.d:0).forEach(({i:r})=>{(e[r].parent?t:n).push(e[r])}),n.map(e=>(function e(n,t,r){return{comment:n,children:function(n,t,r){if(0===n.length)return null;let o=[];return n.forEach(l=>{l.parent===t&&o.unshift(e(l,n,r))}),o}(t,Number(n.id),r+1),nesting:r+1}})(e,t,0))},[e]).map(e=>q(nv,eM(n({},e),{key:e.comment.id})))})}let nb=(t=Math.random,(e,n)=>Math.floor(t()*(n-e+1))+e),nq=function(e){return 1===e.length?e[0]:e[nb(0,e.length-1)]};function nk(e){return er(()=>Array.isArray(e)?nq(e):e,[e])}let[nj,nw,nN]=eQ(function(){{let e=localStorage.getItem("dsqjs_sort");if("popular"===e||"asc"===e||"desc"===e)return e}return null}());function nP({sortType:e,onChange:n,checked:t,title:r,label:o}){return eI(j,{children:[eI("input",{className:"dsqjs-order-radio",id:"dsqjs-order-"+e,type:"radio",name:"comment-order",value:e,onChange:n,checked:t}),eI("label",{className:"dsqjs-order-label",htmlFor:"dsqjs-order-"+e,title:r,children:o})]})}let nS=eh(()=>{let e=nw(),n=nN();return eI("div",{className:"dsqjs-order",children:[eI(nP,{checked:"desc"===e||null===e,sortType:"desc",title:"按从新到旧",label:"最新",onChange:eo(()=>n("desc"),[n])}),eI(nP,{checked:"asc"===e,sortType:"asc",title:"按从旧到新",label:"最早",onChange:eo(()=>n("asc"),[n])}),eI(nP,{checked:"popular"===e,sortType:"popular",title:"按评分从高到低",label:"最佳",onChange:eo(()=>n("popular"),[n])})]})}),nC=eh(({totalComments:e,siteName:n})=>eI("header",{className:"dsqjs-header",id:"dsqjs-header",children:eI("nav",{className:"dsqjs-nav dsqjs-clearfix",children:[eI("ul",{children:[eI("li",{className:"dsqjs-nav-tab dsqjs-tab-active",children:eI("span",{children:[e," Comments"]})}),eI("li",{className:"dsqjs-nav-tab",children:n})]}),eI(nS,{})]})}));function nx({id:e}){let{apikey:n,shortname:t,api:r}=nm(),o=et(nk(n)),[l,i]=ee([]),_=eX(),s=nw(),[u,c]=ee(!1),[a,d]=ee(!1),f=eo(nr(function*(n=!1){if(!e)return;c(!0),d(!1);let u=n?null:l[l.length-1];if(u&&!u.cursor.hasNext)return;let a=`${r}3.0/threads/listPostsThreaded?forum=${t}&thread=${e}&order=${null!=s?s:"desc"}${0!==l.length&&(null==u?void 0:u.cursor.next)?"&cursor="+encodeURIComponent(u.cursor.next):""}`,f=()=>{n?_(!0):d(!0),c(!1)};try{let e=yield n_(o.current,a);0===e.code?(i(t=>(n?[]:t).concat(e)),c(!1)):f()}catch(e){f()}}),[e,l,r,t,s,_]),p=eo(()=>f(!0),[f]),h=eo(()=>f(!1),[f]);!function(e,n){let[t,r]=ee(n=[...n]),o=n.length!==t.length;for(let e=0;e<n.length&&!o;e+=1)t[e]!==n[e]&&(o=!0);o&&(r(n),e())}(p,[e,s]),function(e){let n=et();n.current||(n.current=e())}(p);let m=er(()=>l.filter(Boolean).flatMap(e=>e.response),[l]);if(l.length>0){var v;return eI(j,{children:[eI(ng,{comments:m}),(null===(v=l[l.length-1])||void 0===v?void 0:v.cursor.hasNext)&&eI(e0,{isLoading:u,isError:a,onClick:u?void 0:h})]})}return null}function nE(){let{apikey:e,identifier:n,shortname:t,api:r,siteName:o,nocomment:l}=nm(),i=et(nk(e)),[_,s]=ee(null),u=eX(),c=null!=n?n:document.location.origin+document.location.pathname+document.location.search,a=eo(nr(function*(){try{let e=yield n_(i.current,`${r}3.0/threads/list.json?forum=${encodeURIComponent(t)}&thread=${encodeURIComponent("ident:"+c)}`);0===e.code?s(e):u(!0)}catch(e){u(!0)}}),[r,i,c,u,s,t]),d=e6(),f=et(null);if(en(()=>{let e=eI(j,{children:[eI(e2,{children:"尝试完整 Disqus 模式"})," | ",eI(e1,{children:"强制完整 Disqus 模式"})]});f.current===c?d(eI(j,{children:["你可能无法访问 Disqus，已启用评论基础模式。如需完整体验请针对 disq.us | disquscdn.com | disqus.com 启用代理并"," ",e]})):(d(eI(j,{children:["评论基础模式加载中... 如需完整体验请针对 disq.us | disquscdn.com | disqus.com 启用代理并"," ",e]})),f.current=c,a())},[_,a,c,d,t,r]),!_)return null;if(1!==_.response.length)return eI(nl,{});let p=_.response[0],h=p.posts;return eI(j,{children:[eI(nC,{totalComments:h,siteName:null!=o?o:""}),0===h?eI(ni,{text:null!=l?l:"这里空荡荡的，一个人都没有"}):eI(nx,{id:p.id})]})}function nO(){let e=e6(),n=eJ(),t=eY(),{shortname:r,identifier:o,url:l,title:i}=nm();eB(o=>{"disqus"!==n&&"dsqjs"!==n&&(e("正在检查 Disqus 能否访问..."),Promise.all(["disqus.com",`${r}.disqus.com`].map(nf)).then(()=>{o.aborted||t("disqus")}).catch(()=>{o.aborted||t("dsqjs")}))},[n,t,e,r]);let _=eK(),s=e4();return _?eI(no,{}):eI(j,{children:[null!=s&&eI("div",{id:"dsqjs-msg",children:s}),"disqus"===n&&eI(nn,{shortname:r,identifier:o,url:l,title:i}),"dsqjs"===n&&eI(nE,{})]})}let nD=function(e){function n(n){var t=ed({},n);return delete t.ref,e(t,n.ref||null)}return n.$$typeof=ev,n.render=n,n.prototype.isReactComponent=n.__f=!0,n.displayName="ForwardRef("+(e.displayName||e.name)+")",n}((e,t)=>{var{shortname:r,siteName:o,identifier:l,url:i,title:_,api:s,apikey:u,nesting:c,nocomment:a,admin:d,adminLabel:f,className:p}=e,h=eR(e,["shortname","siteName","identifier","url","title","api","apikey","nesting","nocomment","admin","adminLabel","className"]);let m=er(()=>[eI(nh,{value:{shortname:r,siteName:o,identifier:l,url:i,title:_,api:s,apikey:u,nesting:c,nocomment:a,admin:d,adminLabel:f}},"config"),eI(ez,{},"mode"),eI(nj,{},"sortType"),eI(eG,{},"hasError"),eI(e8,{},"msg")],[d,f,s,u,l,c,a,r,o,_,i]);return!function(){let[e,n]=ee(!1);return en(()=>{n(!0)},[]),e}()?null:eI("div",eM(n({ref:t},h),{className:`${eW.dsqjs} ${null!=p?p:""}`,children:eI(eL,{contexts:m,children:eI("section",{id:"dsqjs",children:[eI(nO,{}),eI(eF,{})]})})}))});return class{render(e){let t;(t=e?"string"==typeof e?document.querySelector(e):e:document.getElementById("disqusjs"))&&(this.container=t,A(eI(nD,n({},this.config)),t))}destroy(){this.container&&A(null,this.container)}constructor(n){e(this,"config",void 0),e(this,"container",void 0),this.config=n}}},"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e="undefined"!=typeof globalThis?globalThis:e||self).DisqusJS=n();
