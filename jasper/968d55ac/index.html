<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="theme-color" content="#222" media="(prefers-color-scheme: light)"><meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 7.3.0"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png"><link rel="mask-icon" href="/images/logo.svg" color="#222"><meta name="google-site-verification" content="M2t8cZr5nIzHmltyt7Utj3nWYxNyNkCzFyigXBHkGUs"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.0.0/css/all.min.css" integrity="sha256-VHqXKFhhMxcpubYf9xiWdCiojEbY9NexQ4jh8AxbvcM=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.31/dist/fancybox/fancybox.css" integrity="sha256-gkQVf8UKZgQ0HyuxL/VnacadJ+D2Kox2TCEBuNQg5+w=" crossorigin="anonymous"><script class="next-config" data-name="main" type="application/json">{"hostname":"jasper1024.com","root":"/","images":"/images","scheme":"Pisces","darkmode":true,"version":"8.27.0","exturl":true,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"codeblock":{"theme":{"light":"vs2015","dark":"vs2015"},"prism":{"light":"prism-vsc-dark-plus","dark":"prism-vsc-dark-plus"},"copy_button":{"enable":true,"style":"mac"},"fold":{"enable":false,"height":500},"language":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":true,"pangu":false,"comments":{"style":"tabs","active":"disqus","storage":true,"lazyload":true,"nav":{"disqus":{"text":"disqus","order":-1},"utterances":{"text":"utterances","order":-2}},"activeClass":"disqus"},"stickytabs":true,"motion":{"enable":true,"async":true,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"top_n_per_article":1,"unescape":false,"preload":false,"trigger":"auto"}}</script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-next@8.27.0/source/js/config.min.js" defer></script><meta name="description" content="hexo 博客配置优化升级的坑坑洼洼   博客变动 12345678910111213141516171819.02.15 Next 启用 MathJax 公式支持19.04.03 博文按更新时间排序19.10.10 升级Next到7.4, 修正评论Disqus.19.11.16 增加utterances评论19.12.26 Blog 部署迁移到 Github Actions19.12.28"><meta property="og:type" content="article"><meta property="og:title" content="Hexo博客配置升级集合"><meta property="og:url" content="https://jasper1024.com/jasper/968d55ac/index.html"><meta property="og:site_name" content="默"><meta property="og:description" content="hexo 博客配置优化升级的坑坑洼洼   博客变动 12345678910111213141516171819.02.15 Next 启用 MathJax 公式支持19.04.03 博文按更新时间排序19.10.10 升级Next到7.4, 修正评论Disqus.19.11.16 增加utterances评论19.12.26 Blog 部署迁移到 Github Actions19.12.28"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2019-02-16T04:10:11.000Z"><meta property="article:modified_time" content="2024-10-04T11:54:13.000Z"><meta property="article:author" content="Jasper"><meta property="article:tag" content="MathJax"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://jasper1024.com/jasper/968d55ac/"><script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://jasper1024.com/jasper/968d55ac/","path":"jasper/968d55ac/","title":"Hexo博客配置升级集合"}</script><script class="next-config" data-name="calendar" type="application/json">""</script><title>Hexo博客配置升级集合 | 默</title><script async src="https://www.googletagmanager.com/gtag/js?id=UA-207687331-1"></script><script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"UA-207687331-1","only_pageview":false,"measure_protocol_api_secret":null}</script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-next@8.27.0/source/js/third-party/analytics/google-analytics.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous" defer></script><script src="https://cdn.jsdelivr.net/npm/@next-theme/pjax@0.6.0/pjax.min.js" integrity="sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao=" crossorigin="anonymous" defer></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.31/dist/fancybox/fancybox.umd.js" integrity="sha256-a+H7FYzJv6oU2hfsfDGM2Ohw/cR9v+hPfxHCLdmCrE8=" crossorigin="anonymous" defer></script><script src="https://cdn.jsdelivr.net/npm/lozad@1.16.0/dist/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous" defer></script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-next@8.27.0/source/js/comments.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-next@8.27.0/source/js/utils.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-next@8.27.0/source/js/motion.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-next@8.27.0/source/js/sidebar.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-next@8.27.0/source/js/next-boot.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-next@8.27.0/source/js/pjax.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.5.0/dist/search.js" integrity="sha256-xFC6PJ82SL9b3WkGjFavNiA9gm5z6UBxWPiu4CYjptg=" crossorigin="anonymous" defer></script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-next@8.27.0/source/js/third-party/search/local-search.min.js" defer></script><script class="next-config" data-name="pdf" type="application/json">{"object_url":{"url":"https://cdn.jsdelivr.net/npm/pdfobject@2.3.1/pdfobject.min.js","integrity":"sha256-jI72I8ZLVflVOisZIOaLvRew3tyvzeu6aZXFm7P7dEo="},"url":"/lib/pdf/web/viewer.html"}</script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-next@8.27.0/source/js/third-party/tags/pdf.min.js" defer></script><script class="next-config" data-name="mermaid" type="application/json">{"enable":true,"theme":{"light":"default","dark":"dark"},"js":{"url":"https://cdn.jsdelivr.net/npm/mermaid@11.10.1/dist/mermaid.min.js","integrity":"sha256-BmQmdWDS8X2OTbrwELWK366LV6escyWhHHe0XCTU/Hk="}}</script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-next@8.27.0/source/js/third-party/tags/mermaid.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-next@8.27.0/source/js/third-party/fancybox.min.js" defer></script><script class="next-config" data-name="leancloud_visitors" type="application/json">{"enable":true,"app_id":"ItayEcWO7OsLFKF2Y8SsAYG1-MdYXbMMI","app_key":"18UBQFmJXXcOQFebLovT36lh","server_url":null,"security":false}</script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-next@8.27.0/source/js/third-party/statistics/lean-analytics.min.js" defer></script><script class="next-config" data-name="enableMath" type="application/json">true</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css" integrity="sha256-UF1fgpAiu3tPJN/uCqEUHNe7pnr+QR0SQDNfgglgtcM=" crossorigin="anonymous"><script src="https://cdn.jsdelivr.net/npm/quicklink@3.0.1/dist/quicklink.umd.js" integrity="sha256-44BednzIpUeQJcY8qtLyarFu0UCCTbgmWOvaoehiFQQ=" crossorigin="anonymous" defer></script><script class="next-config" data-name="quicklink" type="application/json">{"enable":true,"home":false,"archive":false,"delay":true,"timeout":3000,"priority":true,"url":"https://jasper1024.com/jasper/968d55ac/"}</script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-next@8.27.0/source/js/third-party/quicklink.min.js" defer></script><link rel="stylesheet" href="/css/callout_blocks.css"><link rel="stylesheet" type="text/css" href="/css/injector/main.css"><link rel="preload" as="style" href="/css/injector/light.css"><link rel="preload" as="style" href="/css/injector/dark.css"><noscript><link rel="stylesheet" href="/css/noscript.css"></noscript><link rel="alternate" href="/atom.xml" title="默" type="application/rss+xml"></head><body itemscope itemtype="http://schema.org/WebPage" class="use-motion"><div class="headband"></div><main class="main"><div class="column"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><i class="logo-line"></i><p class="site-title">默</p><i class="logo-line"></i></a><p class="site-subtitle" itemprop="description">生存是唯一的长路</p></div><div class="site-nav-right"><div class="toggle popup-trigger" aria-label="搜索" role="button"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">46</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">326</span></a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">62</span></a></li><li class="menu-item menu-item-guestbook"><a href="/guestbook/" rel="section"><i class="fa fa-comments fa-fw"></i>留言</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" maxlength="80" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close" role="button"><i class="fa fa-times-circle"></i></span></div><div class="search-result-container"><div class="search-result-icon"><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></header><aside class="sidebar"><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc">文章目录</li><li class="sidebar-nav-overview">站点概览</li></ul><div class="sidebar-panel-container"><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AF%BC%E8%AF%AD"><span class="nav-number">1.</span> <span class="nav-text">导语</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#logs"><span class="nav-number">2.</span> <span class="nav-text">Logs</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#next"><span class="nav-number">3.</span> <span class="nav-text">Next</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#next77-next8"><span class="nav-number">3.1.</span> <span class="nav-text">Next7.7 -&gt; Next8</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8D%87%E7%BA%A7-next77"><span class="nav-number">3.2.</span> <span class="nav-text">升级 Next7.7</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE"><span class="nav-number">4.</span> <span class="nav-text">配置</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%81%8A%E5%A4%A9%E6%A8%A1%E5%9D%97"><span class="nav-number">4.1.</span> <span class="nav-text">聊天模块</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%B6%E4%BB%96%E9%85%8D%E7%BD%AE"><span class="nav-number">4.2.</span> <span class="nav-text">其他配置</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A0%B7%E5%BC%8F"><span class="nav-number">5.</span> <span class="nav-text">样式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#languagesyml"><span class="nav-number">5.1.</span> <span class="nav-text">languages.yml</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#stylesstyl"><span class="nav-number">5.2.</span> <span class="nav-text">styles.styl</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#variablesstyl"><span class="nav-number">5.3.</span> <span class="nav-text">variables.styl</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%AF%84%E8%AE%BA"><span class="nav-number">6.</span> <span class="nav-text">评论</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#utterances-%E8%AF%84%E8%AE%BA"><span class="nav-number">6.1.</span> <span class="nav-text">Utterances 评论</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#valine-%E8%AF%84%E8%AE%BA"><span class="nav-number">6.2.</span> <span class="nav-text">valine 评论</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8F%92%E4%BB%B6"><span class="nav-number">7.</span> <span class="nav-text">插件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#hexo-abbrlink-%E6%96%87%E7%AB%A0%E7%9F%AD%E9%93%BE%E6%8E%A5"><span class="nav-number">7.1.</span> <span class="nav-text">Hexo-abbrlink 文章短链接</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#hexo-cake-moon-menu-%E5%8F%B3%E4%B8%8B%E6%8C%89%E9%92%AE"><span class="nav-number">7.2.</span> <span class="nav-text">hexo-cake-moon-menu 右下按钮</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#hexo-filter-nofollow-%E5%A4%96%E9%93%BE%E4%BC%98%E5%8C%96"><span class="nav-number">7.3.</span> <span class="nav-text">Hexo-filter-nofollow 外链优化</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#hexo-filter-optimize"><span class="nav-number">7.4.</span> <span class="nav-text">Hexo-filter-optimize</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#hexo-generator-sitemap-%E7%AB%99%E7%82%B9%E5%9C%B0%E5%9B%BE"><span class="nav-number">7.5.</span> <span class="nav-text">Hexo-generator-sitemap 站点地图</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#hexo-generator-searchdb-%E6%9C%AC%E5%9C%B0%E6%90%9C%E7%B4%A2"><span class="nav-number">7.6.</span> <span class="nav-text">Hexo-generator-searchdb 本地搜索</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#hexo-neat-%E9%9D%99%E6%80%81%E5%86%85%E5%AE%B9%E5%8E%8B%E7%BC%A9"><span class="nav-number">7.7.</span> <span class="nav-text">Hexo-neat 静态内容压缩</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#hexo-next-utteranc-utteranc-%E8%AF%84%E8%AE%BA"><span class="nav-number">7.8.</span> <span class="nav-text">Hexo-next-utteranc Utteranc 评论</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#hexo-related-popular-posts-%E6%96%87%E7%AB%A0%E6%8E%A8%E8%8D%90"><span class="nav-number">7.9.</span> <span class="nav-text">Hexo-related-popular-posts 文章推荐</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#hexo-service-worker-%E9%9D%99%E6%80%81%E5%8C%96"><span class="nav-number">7.10.</span> <span class="nav-text">Hexo-service-worker 静态化</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#hexo-symbols-count-time-%E5%AD%97%E6%95%B0%E5%92%8C%E9%98%85%E8%AF%BB%E6%97%B6%E9%97%B4%E7%BB%9F%E8%AE%A1"><span class="nav-number">7.11.</span> <span class="nav-text">Hexo-symbols-count-time 字数和阅读时间统计</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#hexo-generator-feed-rss"><span class="nav-number">7.12.</span> <span class="nav-text">Hexo-generator-feed RSS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#hexo-auto-category"><span class="nav-number">7.13.</span> <span class="nav-text">Hexo-auto-category</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#hexo-directory-category"><span class="nav-number">7.14.</span> <span class="nav-text">Hexo-directory-category</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AB%99%E7%82%B9%E4%BC%98%E5%8C%96"><span class="nav-number">8.</span> <span class="nav-text">站点优化</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8E%8B%E7%BC%A9%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90-hexo-neat"><span class="nav-number">8.1.</span> <span class="nav-text">压缩静态资源 Hexo-neat</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#pjax"><span class="nav-number">8.2.</span> <span class="nav-text">PJAX</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#hexo-service-worker"><span class="nav-number">8.3.</span> <span class="nav-text">Hexo-service-worker</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#hexo-filter-optimize%E6%9C%89%E5%9D%91"><span class="nav-number">8.4.</span> <span class="nav-text">hexo-filter-optimize(有坑)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9B%BE%E7%89%87%E6%87%92%E5%8A%A0%E8%BD%BD"><span class="nav-number">8.5.</span> <span class="nav-text">图片懒加载</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#obsidian-%E8%AF%AD%E6%B3%95%E6%94%AF%E6%8C%81"><span class="nav-number">9.</span> <span class="nav-text">Obsidian 语法支持</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#hexo-obsidian-block-ref-cover"><span class="nav-number">9.1.</span> <span class="nav-text">hexo-obsidian-block-ref-cover</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mdit-plugin-callouts"><span class="nav-number">9.2.</span> <span class="nav-text">mdit-plugin-callouts(未完成)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#markdown-it-task-lists"><span class="nav-number">9.3.</span> <span class="nav-text">markdown-it-task-lists</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%B6%E4%BB%96"><span class="nav-number">10.</span> <span class="nav-text">其他</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#next-%E6%95%B0%E5%AD%A6%E5%85%AC%E5%BC%8F%E6%94%AF%E6%8C%81"><span class="nav-number">10.1.</span> <span class="nav-text">NEXT 数学公式支持</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BC%96%E5%86%99%E6%95%B0%E5%AD%A6%E5%85%AC%E5%BC%8F"><span class="nav-number">10.1.1.</span> <span class="nav-text">编写数学公式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%90%AF%E7%94%A8%E6%95%B0%E5%AD%A6%E5%85%AC%E5%BC%8F%E6%94%AF%E6%8C%81"><span class="nav-number">10.1.2.</span> <span class="nav-text">启用数学公式支持</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9B%B4%E6%8D%A2%E6%B8%B2%E6%9F%93%E5%BC%95%E6%93%8E-%E5%AE%8C%E6%95%B4-mathjax-%E6%94%AF%E6%8C%81-%E5%8F%AF%E9%80%89"><span class="nav-number">10.1.3.</span> <span class="nav-text">更换渲染引擎 完整 Mathjax 支持 (可选)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9D%91"><span class="nav-number">10.1.4.</span> <span class="nav-text">坑</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#mathjax-%E8%AF%AD%E6%B3%95"><span class="nav-number">10.1.5.</span> <span class="nav-text">MathJax 语法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#vscode-%E9%A2%84%E8%A7%88-mathjax"><span class="nav-number">10.1.6.</span> <span class="nav-text">Vscode 预览 MathJax</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8D%9A%E6%96%87%E6%8C%89%E6%9B%B4%E6%96%B0%E6%97%B6%E9%97%B4%E6%8E%92%E5%BA%8F"><span class="nav-number">10.2.</span> <span class="nav-text">博文按更新时间排序</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8D%9A%E6%96%87%E6%9B%B4%E6%96%B0%E5%90%8C%E6%97%B6%E6%9B%B4%E6%96%B0-rss"><span class="nav-number">10.3.</span> <span class="nav-text">博文更新,同时更新 RSS</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#github-actions-%E9%83%A8%E7%BD%B2"><span class="nav-number">11.</span> <span class="nav-text">Github Actions 部署</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%80%E4%BA%8C%E4%B8%AA%E5%9D%91"><span class="nav-number">12.</span> <span class="nav-text">一二个坑</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BF%BD%E7%95%A5%E6%8C%87%E5%AE%9A%E6%96%87%E4%BB%B6%E6%96%87%E4%BB%B6%E5%A4%B9"><span class="nav-number">13.</span> <span class="nav-text">忽略指定文件&#x2F;文件夹</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="Jasper" src="/images/avatar.jfif"><p class="site-author-name" itemprop="name">Jasper</p><div class="site-description" itemprop="description">微尘</div></div><div class="site-state-wrap animated"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">326</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">46</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">62</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author animated"><span class="links-of-author-item"><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2phc3Blci0xMDI0" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;jasper-1024"><i class="fab fa-github fa-fw"></i>GitHub</span> </span><span class="links-of-author-item"><a href="/ljy087621@gmail.com" title="E-Mail → ljy087621@gmail.com" rel="noopener me"><i class="fa fa-envelope fa-fw"></i>E-Mail</a> </span><span class="links-of-author-item"><span class="exturl" data-url="aHR0cHM6Ly94LmNvbS9KYXNwZXJfMTAyNA==" title="Twitter → https:&#x2F;&#x2F;x.com&#x2F;Jasper_1024"><i class="fab fa-twitter fa-fw"></i>Twitter</span> </span><span class="links-of-author-item"><span class="exturl" data-url="aHR0cHM6Ly90Lm1lL2phc3BlcjEwMjQ=" title="Telegram → https:&#x2F;&#x2F;t.me&#x2F;jasper1024"><i class="fab fa-skype fa-fw"></i>Telegram</span> </span><span class="links-of-author-item"><a href="/atom.xml" title="RSS → &#x2F;atom.xml" rel="noopener me"><i class="fas fa-rss fa-fw"></i>RSS</a></span></div></div></div><div class="back-to-top animated" role="button" aria-label="返回顶部"><i class="fa fa-arrow-up"></i> <span>0%</span></div></div><div class="sidebar-inner sidebar-blogroll"><div class="links-of-blogroll animated"><div class="links-of-blogroll-title"><i class="fa fa-globe fa-fw"></i> 链接</div><ul class="links-of-blogroll-list"><li class="links-of-blogroll-item"><span class="exturl" data-url="aHR0cHM6Ly9ibG9nLmZvcmVjaG8uY29tLw==" title="https:&#x2F;&#x2F;blog.forecho.com&#x2F;">forecho</span></li><li class="links-of-blogroll-item"><span class="exturl" data-url="aHR0cHM6Ly9ibG9nLmZvcmVjaG8uY29tL2ZyaWVuZHNoaXAtbGlua3Mv" title="https:&#x2F;&#x2F;blog.forecho.com&#x2F;friendship-links&#x2F;">友链聚合</span></li></ul></div></div></aside></div><div class="main-inner post posts-expand"><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://jasper1024.com/jasper/968d55ac/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jfif"><meta itemprop="name" content="Jasper"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="默"><meta itemprop="description" content="微尘"></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content="Hexo博客配置升级集合 | 默"><meta itemprop="description" content=""></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Hexo博客配置升级集合</h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-02-16 04:10:11" itemprop="dateCreated datePublished" datetime="2019-02-16T04:10:11Z">2019-02-16</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2024-10-04 11:54:13" itemprop="dateModified" datetime="2024-10-04T11:54:13Z">2024-10-04</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E6%97%A5%E5%B8%B8/" itemprop="url" rel="index"><span itemprop="name">日常</span></a> </span>， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E6%97%A5%E5%B8%B8/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a> </span></span><span id="/jasper/968d55ac/" class="post-meta-item leancloud_visitors" data-flag-title="Hexo博客配置升级集合" title="阅读次数"><span class="post-meta-item-icon"><i class="far fa-eye"></i> </span><span class="post-meta-item-text">阅读次数：</span> <span class="leancloud-visitors-count"></span> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i> </span><span class="post-meta-item-text">Disqus：</span> <a title="disqus" href="/jasper/968d55ac/#disqus_thread" itemprop="discussionUrl"><span class="post-comments-count disqus-comment-count" data-disqus-identifier="jasper/968d55ac/" itemprop="commentCount"></span> </a></span><span class="post-meta-break"></span> <span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>17k</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>15 分钟</span></span></div></div></header><div class="post-body" itemprop="articleBody"><ul><li><p>hexo 博客配置优化升级的坑坑洼洼</p></li><li><p>博客变动</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">19.02</span>.<span class="number">15</span> <span class="keyword">Next</span> 启用 MathJax 公式支持</span><br><span class="line"><span class="number">19.04</span>.<span class="number">03</span> 博文按更新时间排序</span><br><span class="line"><span class="number">19.10</span>.<span class="number">10</span> 升级<span class="keyword">Next</span>到<span class="number">7.4</span>, 修正评论Disqus.</span><br><span class="line"><span class="number">19.11</span>.<span class="number">16</span> 增加utterances评论</span><br><span class="line"><span class="number">19.12</span>.<span class="number">26</span> Blog 部署迁移到 Github Actions</span><br><span class="line"><span class="number">19.12</span>.<span class="number">28</span> 记录一些问题,待解决.</span><br><span class="line"><span class="number">19.12</span>.<span class="number">30</span> 解决<span class="keyword">update</span>更新时间排序</span><br><span class="line"><span class="number">20.01</span>.<span class="number">18</span> 升级到<span class="keyword">Next</span> <span class="number">7.7</span>,删除大量过时内容.</span><br><span class="line"><span class="number">20.01</span>.<span class="number">19</span> 优化博客速度.迁移评论,阅读统计等.</span><br><span class="line"><span class="number">20.01</span>.<span class="number">20</span> 重新整合内容.添加插件等配置.</span><br><span class="line"><span class="number">20.01</span>.<span class="number">20</span> 填站点优化的坑</span><br><span class="line"><span class="number">20.05</span>.<span class="number">25</span> 记录一个问题</span><br><span class="line"><span class="number">20.11</span>.<span class="number">17</span> hexo 忽略指定文件/文件夹</span><br><span class="line"><span class="number">21.09</span>.<span class="number">11</span> 升级到 hexo5 + Next8</span><br><span class="line"><span class="number">22.01</span>.<span class="number">12</span> 去除无效链接/捐赠</span><br><span class="line"><span class="number">24.06</span>.<span class="number">16</span> 适配更多 Obsidian 语法, 未完成</span><br><span class="line"><span class="number">24.09</span>.<span class="number">08</span> 更新一些 hexo 插件</span><br><span class="line"><span class="number">24.10</span>.<span class="number">04</span> 更新一些 hexo 插件</span><br></pre></td></tr></table></figure></li></ul><span id="more"></span><ul><li>参考资料<blockquote><p><span class="exturl" data-url="aHR0cHM6Ly90ZGluZy50b3Av">https://tding.top/<i class="fa fa-external-link-alt"></i></span><br><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3RoZW1lLW5leHQvaGV4by10aGVtZS1uZXh0L2Jsb2IvbWFzdGVyL2RvY3MvemgtQ04vTUFUSC5tZA==">https://github.com/theme-next/hexo-theme-next/blob/master/docs/zh-CN/MATH.md<i class="fa fa-external-link-alt"></i></span><br><span class="exturl" data-url="aHR0cHM6Ly93d3cuenlidWx1by5jb20vY29kZWVwL25vdGUvMTYzOTYyIzMlRTUlQTYlODIlRTQlQkQlOTUlRTglQkUlOTMlRTUlODUlQTUlRTYlOEIlQUMlRTUlOEYlQjclRTUlOTIlOEMlRTUlODglODYlRTklOUElOTQlRTclQUMlQTY=">https://www.zybuluo.com/codeep/note/163962#3如何输入括号和分隔符<i class="fa fa-external-link-alt"></i></span><br><span class="exturl" data-url="aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dnc2h1bjYxNi9hcnRpY2xlL2RldGFpbHMvODEwMTk2ODc=">https://blog.csdn.net/wgshun616/article/details/81019687<i class="fa fa-external-link-alt"></i></span><br><span class="exturl" data-url="aHR0cHM6Ly91dWFucWluLnRvcC9wL2Q0YmM1NWYyL2luZGV4Lmh0bWw=">https://uuanqin.top/p/d4bc55f2/index.html<i class="fa fa-external-link-alt"></i></span></p></blockquote></li></ul><h2 id="导语"><a class="markdownIt-Anchor" href="#导语"></a> 导语</h2><ul><li>这一篇是折腾博客配置的集合贴.折腾多少记多少吧.</li></ul><h2 id="logs"><a class="markdownIt-Anchor" href="#logs"></a> Logs</h2><ul><li>(19.10.10)<ul><li>升级到 Next 7.4</li><li>速度提升非常明显: 博客搜索加载直接使用,不再需要等待.本地 <code>hexo g</code> 缩短了一半时间.</li><li>Next7 的配置文件有更改.也许还有其他小 BUG.</li><li>目前 代码复制暂时失效,打赏暂时失效.</li></ul></li><li>(20.01.18) 升级到 Next 7.7,把改版的想法实践的差不多,以后升级应该不会这么麻烦了.<ul><li>彻底更改了一直延续的博客样式,比之前顺眼多了.</li><li>打赏 代码复制 已经可以正常使用.代码块的样式更像 mac 了.</li><li>启用了压缩的插件,加上懒加载,和 hexo next 更新版本的优化,打开速度有了提升.</li><li>比较遗憾是背景图片加载还是比较慢.</li><li><s>已经启用的 chatra 因为和 back2top 有位置冲突,没有找到更换位置的选项.只能暂时关闭.切换到了 Tidio 目前正常.</s> (20.01.19) 已全部关闭.</li><li>应该会稳定很长时间了</li></ul></li><li>(20.01.19) 优化博客速度,测试下来 在 gitpages 国内半死不活的现状下,主体内容打开应该能控制在 5s 内.<ul><li>这次优化,把原来带年月的博文链接改成了一串字符的链接,方便外链.但是 blog 之前所有的外链全部失效.目前在 404 界面加上了有关公告.</li><li>迁移 leancloud 到国际版 (早该进行了).基于 leancloud 的访问量统计因为博文链接的变化也全部失效,索性从零开始.</li><li>评论系统 utterances 加载实在是太慢了,又增加了基于 leancloud 国际版的 valine,速度很满意,唯一的风险就是 leancloud 国际版被墙.</li><li>重新整理了插件,估计这个要单独写一篇记录一下.</li><li>这次的改版基本参考 <span class="exturl" data-url="aHR0cHM6Ly90ZGluZy50b3Av">小丁的个人博客<i class="fa fa-external-link-alt"></i></span></li></ul></li><li>(20.05.25) 基本半年都很稳定,没有再折腾,直到前几天一次莫名其妙的部署失败,到现在还没找到原因,无非是 hexo 版本等,但是没有时间去调试,仅记录.</li><li>(21.09.11) 本来一年一度的 blog 升级应该在年初完成,最近才有时间彻底搞一遍.总之没有大动.<ul><li>终于是迁移到了自己的域名,托管到了 cloudflare CDN.原来的 github pages 貌似是可以自动跳转.</li><li>node hexo next 都升级到了最新版.</li><li>主题切换到了暗色主题,其他一些小的调整.</li><li>去掉了 valine 评论,因为 valine 转成了闭源.</li><li>去掉了一些无法安装的插件.</li></ul></li><li>(22.01.12) 个人的收款码 3 月就失效了,央行的理由是反洗钱….<ul><li>去掉无用的捐助链接,没几块钱收入,还会干扰 rss.</li><li>去掉一些其他失效链接.</li></ul></li><li>(24.06.16) 已经 2.5 年没有更新过 blog 样式了, 最近尝试重启所有计划, 时间总是不等人.<ul><li>更新到 HEXO 7 NEXT 8.2 ,这两者这两年没有大的更新.</li><li>参考 <span class="exturl" data-url="aHR0cHM6Ly91dWFucWluLnRvcC9wL2Q0YmM1NWYyL2luZGV4Lmh0bWw=">Hexo 博客适配 Obsidian 新语法<i class="fa fa-external-link-alt"></i></span> , 尝试适配 obsidian 更多语法.</li><li>写 <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL0phc3Blci0xMDI0L2hleG8tb2JzaWRpYW4tYmxvY2stcmVmLWNvdmVy">了第一个 npm 插件<i class="fa fa-external-link-alt"></i></span> 转换 obsdian 块引用为 hexo 的永久链接.<ul><li>这个插件并没有实现 <code>![xx</code> 的语法.</li><li>gpt 解放的创意成本比想象中还要大很多.</li></ul></li></ul></li><li>待办<ul><li><s>搜索引擎索引更新.</s></li><li><s>pwa 支持.(hexo-pwa 插件)</s> pwa 都要被抛弃了…</li><li>图床迁移到 onedrive</li><li><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3dpZGNhcmR3L21kaXQtcGx1Z2luLWNhbGxvdXRz">obsidian callouts<i class="fa fa-external-link-alt"></i></span> 语法在 next 主题中完整支持<ul><li>目前还有不少 bug,配置文件哪里写错了.</li></ul></li><li><span class="exturl" data-url="aHR0cHM6Ly91dWFucWluLnRvcC9wL2Y2YzBkYWYzL2luZGV4Lmh0bWw=">Obsidian 关系图谱<i class="fa fa-external-link-alt"></i></span></li></ul></li></ul><h2 id="next"><a class="markdownIt-Anchor" href="#next"></a> Next</h2><h3 id="next77-next8"><a class="markdownIt-Anchor" href="#next77-next8"></a> Next7.7 -&gt; Next8</h3><p>主仓库又换了,似乎是原作者半年多没在线…</p><p>升级变动</p><ul><li>现在 next 可以直接 npm 安装了</li><li>原来的主题配置文件现在写在 hexo 根目录,默认名称是 <code>_config.next.yml</code></li><li>好在原来自定义配置不需要改动.</li></ul><h3 id="升级-next77"><a class="markdownIt-Anchor" href="#升级-next77"></a> 升级 Next7.7</h3><ul><li><s>这一次升级的过程比较复杂,需要点时间整理.</s></li><li>非常多参考 <span class="exturl" data-url="aHR0cHM6Ly90ZGluZy50b3AvYXJjaGl2ZXMvMmJkNmQ4Mi5odG1s">Hexo-NexT 版本更新记录<i class="fa fa-external-link-alt"></i></span></li><li>Next 7.3 以后数据文件和配置文件可以分离.包括自定义样式.都可以放到 <code>source/_data/</code> 下,这样升级时会非常方便,遗憾的是图片资源还是需要放在主题的文件夹中.</li><li>从 Netx 7 以下升级的,就别想直接覆盖了,从头看配置吧.</li></ul><h2 id="配置"><a class="markdownIt-Anchor" href="#配置"></a> 配置</h2><ul><li>Next8 配置文件是根目录 <code>_config.next.yml</code>.</li><li><s>Next 7.3 以后推荐是主题配置文件使用 <code>source/_data/next.ym</code> 并且 <code>override: true</code> 这样主题配置文件无需修改.</s></li><li>next 的配置文件非常详细.基本的博客样式不再赘述.</li></ul><h3 id="聊天模块"><a class="markdownIt-Anchor" href="#聊天模块"></a> <s>聊天模块</s></h3><ul><li><p>(21.09.11) 个人在 Next 8 chat 全部禁用了,以下仅供参考.</p></li><li><p>next7.7 的 chat 支持 chatra 和 tidio. 还可以在侧边栏启用 chat 图标.</p></li><li><p>测试</p><ul><li>借助 chatra 和 tidio 可以实时的收到通知,即使离线也可以收到邮件通知.可以一定程度上替换评论系统.</li><li>chatra 在国内的访问速度要更好.但是聊天框自定义少.</li><li>tidio 国内也能加载,但是还是不够快.好处是自定义很多.</li></ul></li><li><p>启用</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 侧边栏</span></span><br><span class="line"><span class="attr">chat:</span></span><br><span class="line"><span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># 启用</span></span><br><span class="line"><span class="comment">#service: chatra # 选择那个服务</span></span><br><span class="line"><span class="attr">service:</span> <span class="string">tidio</span></span><br><span class="line"><span class="attr">icon:</span> <span class="string">comment</span> <span class="comment"># Icon name in Font Awesome, set false to disable icon.</span></span><br><span class="line"><span class="attr">text:</span> <span class="string">Chat</span> <span class="comment"># Button text, change it as you wish.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Chatra Support</span></span><br><span class="line"><span class="comment"># See: https://chatra.io</span></span><br><span class="line"><span class="comment"># Dashboard: https://app.chatra.io/settings/general</span></span><br><span class="line"><span class="attr">chatra:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span>  <span class="comment"># 启用则 true</span></span><br><span class="line">  <span class="attr">async:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">id:</span>  <span class="comment"># Visit Dashboard to get your ChatraID</span></span><br><span class="line"><span class="attr">embed:</span> <span class="comment"># Unfinished experimental feature for developers. See: https://chatra.io/help/api/#injectto</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Tidio Support</span></span><br><span class="line"><span class="comment"># See: https://www.tidiochat.com</span></span><br><span class="line"><span class="comment"># Dashboard: https://www.tidiochat.com/panel/dashboard</span></span><br><span class="line"><span class="attr">tidio:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span>  <span class="comment"># 启用则 true</span></span><br><span class="line">  <span class="attr">key:</span>  <span class="comment"># Public Key, get it from dashboard. See: https://www.tidiochat.com/panel/settings/developer</span></span><br></pre></td></tr></table></figure></li><li><p>next 对 chat 的支持还没有到尽善尽美,启用后测试与右下的小部件有冲突.目前暂定关闭</p></li></ul><h3 id="其他配置"><a class="markdownIt-Anchor" href="#其他配置"></a> 其他配置</h3><ul><li><p>书签: 支持返回时仍然回到相同位置,我是禁用了….</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Bookmark Support</span></span><br><span class="line"><span class="attr">bookmark:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span> <span class="comment"># 启用则 true</span></span><br><span class="line">  <span class="comment"># Customize the color of the bookmark.</span></span><br><span class="line">  <span class="attr">color:</span> <span class="string">&quot;#222&quot;</span></span><br><span class="line">  <span class="comment"># If auto, save the reading progress when closing the page or clicking the   bookmark-icon.</span></span><br><span class="line">  <span class="comment"># If manual, only save it by clicking the bookmark-icon.</span></span><br><span class="line">  <span class="attr">save:</span> <span class="string">manual</span></span><br></pre></td></tr></table></figure></li><li><p>Follow me on GitHub: 右上角的 Github ,为了这个把书签禁用了.</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># `Follow me on GitHub` banner in the top-right corner.</span></span><br><span class="line"><span class="attr">github_banner:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">permalink:</span> <span class="string">https://github.com/Jasper-1024</span></span><br><span class="line">  <span class="attr">title:</span> <span class="string">Follow</span> <span class="string">me</span> <span class="string">on</span> <span class="string">GitHub</span></span><br></pre></td></tr></table></figure></li><li><p>图片浏览器: 有 fancybox 和 mediumzoom 两种,个人偏爱 fancybox,两者不能同时启用.</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># FancyBox is a tool that offers a nice and elegant way to add zooming functionality for images.</span></span><br><span class="line"><span class="comment"># For more information: https://fancyapps.com/fancybox</span></span><br><span class="line"><span class="attr">fancybox:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure></li><li><p>盘古 pangu: 别误会这个名字,这是在每个英文和数字前后加空格的 js. 因为个人习惯性加上空格,所以不启用</p></li><li><p>quicklink: google 出品,判断空闲即加载视窗内 url.貌似不太用得着.</p></li></ul><h2 id="样式"><a class="markdownIt-Anchor" href="#样式"></a> 样式</h2><ul><li>在 <code>source/_data/next.ym</code> 文件中取消 <code>variable: source/_data/variables.styl</code> 和 <code>style: source/_data/styles.styl</code> 的注释.</li></ul><h3 id="languagesyml"><a class="markdownIt-Anchor" href="#languagesyml"></a> languages.yml</h3><ul><li><p>因为添加了一些自定义界面,需要添加对于的翻译</p></li><li><p>languages.yml</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">zh-CN:</span></span><br><span class="line">  <span class="attr">menu:</span></span><br><span class="line">      <span class="attr">guestbook:</span> <span class="string">留言</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">state:</span></span><br><span class="line">      <span class="attr">pages:</span> <span class="string">页面</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">page:</span></span><br><span class="line">          <span class="attr">totally:</span> <span class="string">共有</span></span><br><span class="line">          <span class="attr">tags:</span> <span class="string">标签</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="stylesstyl"><a class="markdownIt-Anchor" href="#stylesstyl"></a> styles.styl</h3><ul><li><p>(21.09.11) 透明的演示在 next8 没起作用,原因未知.</p></li><li><p>pc 主页文章添加阴影效果</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">article</span> &#123;</span><br><span class="line"><span class="attr">margin-top:</span> <span class="string">0px;</span></span><br><span class="line"><span class="attr">margin-bottom:</span> <span class="string">50px;</span></span><br><span class="line"><span class="attr">padding:</span> <span class="string">25px;</span></span><br><span class="line"><span class="string">-webkit-box-shadow:</span> <span class="number">0</span> <span class="number">0</span> <span class="string">5px</span> <span class="string">rgba(202</span>, <span class="number">203</span>, <span class="number">203</span>, <span class="number">.5</span><span class="string">);</span></span><br><span class="line"><span class="string">-moz-box-shadow:</span> <span class="number">0</span> <span class="number">0</span> <span class="string">5px</span> <span class="string">rgba(202</span>, <span class="number">203</span>, <span class="number">204</span>, <span class="number">.5</span><span class="string">);</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>文章内容的透明度设置</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">//博客内容透明化</span></span><br><span class="line"><span class="string">//文章内容的透明度设置</span></span><br><span class="line"><span class="string">.content-wrap</span> &#123;</span><br><span class="line">  <span class="attr">opacity:</span> <span class="number">0.87</span><span class="string">;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="string">//侧边框的透明度设置</span></span><br><span class="line"><span class="string">.sidebar</span> &#123;</span><br><span class="line">  <span class="attr">opacity:</span> <span class="number">0.87</span><span class="string">;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="string">//菜单栏的透明度设置</span></span><br><span class="line"><span class="string">.header-inner</span> &#123;</span><br><span class="line">  <span class="attr">background:</span> <span class="string">rgba(255</span>,<span class="number">255</span>,<span class="number">255</span>,<span class="number">0.9</span><span class="string">);</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="string">//搜索框（local-search）的透明度设置</span></span><br><span class="line"><span class="string">.popup</span> &#123;</span><br><span class="line">  <span class="attr">opacity:</span> <span class="number">0.87</span><span class="string">;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>博客背景图片,需要将对应图片放在主题文件夹 <code>source/images</code> 下,推荐使用 webp 格式,分辨率在 1080p 尚可.</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">body</span> &#123;</span><br><span class="line">  <span class="string">background:url(/images/back.webp);</span></span><br><span class="line">  <span class="attr">background-repeat:</span> <span class="literal">no</span><span class="string">-repeat;</span></span><br><span class="line">  <span class="string">background-attachment:fixed;</span> <span class="string">//不重复</span></span><br><span class="line">  <span class="attr">background-size:</span> <span class="string">cover;</span>      <span class="string">//填充</span></span><br><span class="line">  <span class="string">background-position:50%</span> <span class="number">50</span><span class="string">%;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="variablesstyl"><a class="markdownIt-Anchor" href="#variablesstyl"></a> variables.styl</h3><ul><li><p>调整默认显示样式间距等.</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">//</span> <span class="string">Font</span> <span class="string">size</span></span><br><span class="line"><span class="string">//</span> <span class="string">$font-size-large</span>          <span class="string">=</span> <span class="number">1.</span><span class="string">125em;</span></span><br><span class="line"><span class="string">$font-size-large</span>          <span class="string">=</span> <span class="string">1em;</span></span><br><span class="line"><span class="string">//</span> <span class="string">$font-size-larger</span>         <span class="string">=</span> <span class="number">1.</span><span class="string">25em;</span></span><br><span class="line"><span class="string">$font-size-larger</span>         <span class="string">=</span> <span class="number">1.</span><span class="string">125em;</span></span><br><span class="line"><span class="string">//</span> <span class="string">$font-size-largest</span>        <span class="string">=</span> <span class="number">1.</span><span class="string">375em;</span></span><br><span class="line"><span class="string">$font-size-largest</span>        <span class="string">=</span> <span class="number">1.</span><span class="string">25em;</span></span><br><span class="line"></span><br><span class="line"><span class="string">//</span> <span class="string">Headings</span> <span class="string">font</span> <span class="string">size</span></span><br><span class="line"><span class="string">$font-size-headings-step</span>  <span class="string">=</span> <span class="string">.125em;</span></span><br><span class="line"><span class="string">//</span> <span class="string">Custom</span> <span class="string">font-size</span></span><br><span class="line"><span class="string">//</span> <span class="string">$font-size-headings-base</span>  <span class="string">=</span> <span class="number">1.</span><span class="string">875em;</span></span><br><span class="line"><span class="string">$font-size-headings-base</span>  <span class="string">=</span> <span class="number">1.</span><span class="string">6em;</span></span><br></pre></td></tr></table></figure></li><li><p>圆角设置 (+1)</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">//</span> <span class="string">圆角设置</span></span><br><span class="line"><span class="string">$border-radius-inner</span>     <span class="string">=</span> <span class="string">20px</span> <span class="string">20px</span> <span class="string">20px</span> <span class="string">20px;</span></span><br><span class="line"><span class="string">$border-radius</span>           <span class="string">=</span> <span class="string">20px;</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="评论"><a class="markdownIt-Anchor" href="#评论"></a> 评论</h2><ul><li>Disqus 很久之前就被墙了,一直都是半残的使用这,期间查找了不少基于 github issues 的评论系统,但是不是权限过大 (这是 github api 限制),就是已经停止更新.</li><li>最近翻到了 utterances 基于 github app ,权限可以控制到某一个仓库.目前暂时迁移到 utterances .<s>计划以后和域名一块,考虑在服务器上自建 isso,但是服务器的安全性又成新问题.</s></li><li>目前大致是 Disqus 可以匿名评论,但是需要科学上网. utterances 无需科学上网,但是需要 github 帐号,而且加载速度比较慢.</li><li><s>评论系统这样要维持很长一段时间了.基本满足需要.</s> <s>增加了 valine 可以匿名评论,加载速度还可以,目前全部保留.</s></li><li>(21.09.11) valine 闭源了,所以去掉了 valine.</li></ul><h3 id="utterances-评论"><a class="markdownIt-Anchor" href="#utterances-评论"></a> Utterances 评论</h3><ul><li><p>utterances 有新的插件 <code>hexo-next-utteranc</code> 部署异常的简单.</p></li><li><p>选定仓库,授权 utterances .</p><ul><li>你可以新建,或者直接现有仓库.</li><li><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FwcHMvdXR0ZXJhbmNlcw==">授权<i class="fa fa-external-link-alt"></i></span> ,可以控制到具体的仓库.</li></ul></li><li><p>安装插件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save github:theme-next/hexo-next-utteranc</span><br></pre></td></tr></table></figure></li><li><p>添加配置文件,在主题/站点的配置文件中添加都可. 仅修改 repo 即可.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Demo: https://utteranc.es/  http://trumandu.github.io/about/</span></span><br><span class="line">utteranc:</span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">true</span></span><br><span class="line">  repo: <span class="comment">#Github repo such as :TrumanDu/comments</span></span><br><span class="line">  pathname: pathname</span><br><span class="line">  <span class="comment"># theme: github-light,github-dark,github-dark-orange</span></span><br><span class="line">  theme: github-light</span><br><span class="line">  cdn: https://utteranc.es/client.js</span><br></pre></td></tr></table></figure></li><li><p>之后重新生成,部署 hexo.</p></li></ul><h3 id="valine-评论"><a class="markdownIt-Anchor" href="#valine-评论"></a> <s>valine 评论</s></h3><ul><li>(21.09.11) next8.1 版本去掉了 valine 直接支持,但是还可以自行添加.</li><li>valine 是基于 LeanCloud 的无后端评论系统, Next 对 valine 支持良好</li><li>配置过程参考 <span class="exturl" data-url="aHR0cHM6Ly9xaWFuZmFuZ3VvamluLmdpdGh1Yi5pby8yMDE5LzA3LzIzL0hleG8lRTUlOEQlOUElRTUlQUUlQTIlRTglQkYlOUIlRTklOTglQjYlRUYlQkMlOUElRTQlQjglQkFOZXh0JUU0JUI4JUJCJUU5JUEyJTk4JUU2JUI3JUJCJUU1JThBJUEwVmFsaW5lJUU4JUFGJTg0JUU4JUFFJUJBJUU3JUIzJUJCJUU3JUJCJTlGLw==">Hexo博客进阶：为Next主题添加Valine评论系统<i class="fa fa-external-link-alt"></i></span></li><li>还有更高级的的 <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL0Rlc2VydHNQL1ZhbGluZS1BZG1pbg==">Valine Admin<i class="fa fa-external-link-alt"></i></span> 可以实现主要实现评论邮件通知、评论管理、垃圾评论过滤等功能. 参考 <span class="exturl" data-url="aHR0cHM6Ly9kZXNlcnRzLmlvL3ZhbGluZS1hZG1pbi1kb2N1bWVudC8=">Valine Admin 配置手册<i class="fa fa-external-link-alt"></i></span></li></ul><h2 id="插件"><a class="markdownIt-Anchor" href="#插件"></a> 插件</h2><ul><li>升级 Next7.7 的过程,也顺带把插件整理了一遍,有的插件与 blog 优化有关,内容在下一节.</li><li>(21.09.11) 注释掉无效插件.</li></ul><p>所有 next 主题依赖的插件都在 <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL25leHQtdGhlbWUvcGx1Z2lucw==">plugins<i class="fa fa-external-link-alt"></i></span>,使用 next 前,最好先行安装.</p><h3 id="hexo-abbrlink-文章短链接"><a class="markdownIt-Anchor" href="#hexo-abbrlink-文章短链接"></a> Hexo-abbrlink 文章短链接</h3><ul><li><p>默认情况下文章生成的是年月日 + 文章名的带汉字的链接.但是这样非常不方便分享.一些论坛也不能正常识别总是会截断.</p></li><li><p>hexo-abbrlink 会生成一个字符串代表文章的链接,这样方便分享.而且生成后即使修改标题也不会影响外链.</p></li><li><p>坏处是原来的外链全部失效….额….只能在 404 界面提醒了…</p></li><li><p>在站点配置文件中</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 原来按照年/月/日/标题生成 # permalink: :year/:month/:day/:title/</span></span><br><span class="line"><span class="attr">permalink:</span> <span class="string">:author/:abbrlink/</span> <span class="comment"># 作者/字符串</span></span><br><span class="line"><span class="attr">permalink_defaults:</span> <span class="comment">#默认参数可自定义</span></span><br><span class="line">  <span class="attr">author:</span> <span class="string">jasper</span></span><br><span class="line"><span class="comment"># 永久链接</span></span><br><span class="line"><span class="attr">abbrlink:</span> <span class="comment"># 生成</span></span><br><span class="line">  <span class="attr">alg:</span> <span class="string">crc32</span>  <span class="comment"># 算法：crc16(default) and crc32</span></span><br><span class="line">  <span class="attr">rep:</span> <span class="string">hex</span>    <span class="comment"># 进制：dec(default) and hex</span></span><br><span class="line"><span class="attr">pretty_urls:</span></span><br><span class="line">  <span class="attr">trailing_index:</span> <span class="literal">true</span> <span class="comment"># Set to false to remove trailing &#x27;index.html&#x27; from   permalinks</span></span><br><span class="line">  <span class="attr">trailing_html:</span> <span class="literal">true</span> <span class="comment"># Set to false to remove trailing &#x27;.html&#x27; from permalinks</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="hexo-cake-moon-menu-右下按钮"><a class="markdownIt-Anchor" href="#hexo-cake-moon-menu-右下按钮"></a> <s>hexo-cake-moon-menu 右下按钮</s></h3><p>(21.09.11) next 主题已经自带.</p><ul><li><p>Next 主题自带了指示进度和返回最上的按钮,但样式不太好看.</p></li><li><p>hexo-cake-moon-menu 正好符合需要.</p></li><li><p>安装后,即使不在文件中配置,已经生效.配置文件中可配置细节.</p></li><li><p>站点配置文件</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 右下按钮</span></span><br><span class="line"><span class="attr">moon_menu:</span></span><br><span class="line">  <span class="attr">back2top:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">icon:</span> <span class="string">fa</span> <span class="string">fa-chevron-up</span></span><br><span class="line">    <span class="attr">func:</span> <span class="string">back2top</span></span><br><span class="line">    <span class="attr">order:</span> <span class="number">-1</span></span><br><span class="line">  <span class="attr">back2bottom:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">icon:</span> <span class="string">fa</span> <span class="string">fa-chevron-down</span></span><br><span class="line">    <span class="attr">func:</span> <span class="string">back2bottom</span></span><br><span class="line">    <span class="attr">order:</span> <span class="number">-2</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="hexo-filter-nofollow-外链优化"><a class="markdownIt-Anchor" href="#hexo-filter-nofollow-外链优化"></a> Hexo-filter-nofollow 外链优化</h3><ul><li><p><code>hexo-filter-nofollow</code> 是 hexo 官方插件之一.自动在博文引用的外链添加 <code>rel=&quot;external nofollow noreferrer&quot;</code></p></li><li><p><code>rel=&quot;external nofollow noreferrer&quot;</code> 大意是告诉搜索引擎的爬虫不需要爬取这个外链,并且这个外链不计入站点权重, noreferrer 防止钓鱼??</p></li><li><p>建议加上</p></li><li><p>站点配置文件</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">nofollow:</span></span><br><span class="line"><span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">field:</span> <span class="string">site</span> <span class="comment"># site 处理全部页面 post 只处理文章页面</span></span><br><span class="line"><span class="attr">exclude:</span> <span class="comment"># 需要排除的域名,不同的子域名视为不同的域名.</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&#x27;jasper1024.com&#x27;</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="hexo-filter-optimize"><a class="markdownIt-Anchor" href="#hexo-filter-optimize"></a> Hexo-filter-optimize</h3><ul><li>见站点优化</li></ul><h3 id="hexo-generator-sitemap-站点地图"><a class="markdownIt-Anchor" href="#hexo-generator-sitemap-站点地图"></a> Hexo-generator-sitemap 站点地图</h3><ul><li><p>生成 sitemap.</p></li><li><p>站点配置文件</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 站点地图</span></span><br><span class="line"><span class="attr">sitemap:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">sitemap.xml</span></span><br></pre></td></tr></table></figure></li><li><p>与之相对的还有一个生成百度站点地图的 <code>hexo-generator-baidu-sitemap</code> ,但是 github 屏蔽了百度的爬虫,所以无所谓了.</p></li></ul><h3 id="hexo-generator-searchdb-本地搜索"><a class="markdownIt-Anchor" href="#hexo-generator-searchdb-本地搜索"></a> Hexo-generator-searchdb 本地搜索</h3><ul><li><p>这个非常实用.</p></li><li><p>站点配置文件</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 本地搜索</span></span><br><span class="line"><span class="attr">search:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">search.xml</span> <span class="comment"># 默认生成的search.xml 在站点根目录</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">all</span> <span class="comment"># 索引全部页面</span></span><br><span class="line">  <span class="attr">format:</span> <span class="string">html</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">100</span></span><br></pre></td></tr></table></figure></li><li><p>然后在 next 的主题配置文件中启用</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Local Search</span></span><br><span class="line"><span class="comment"># Dependencies: https://github.com/theme-next/hexo-generator-searchdb</span></span><br><span class="line"><span class="attr">local_search:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment">#启用</span></span><br><span class="line">  <span class="comment"># If auto, trigger search by changing input.</span></span><br><span class="line">  <span class="comment"># If manual, trigger search by pressing enter key or search button.</span></span><br><span class="line">  <span class="attr">trigger:</span> <span class="string">auto</span></span><br><span class="line">  <span class="comment"># Show top n results per article, show all results by setting to -1</span></span><br><span class="line">  <span class="attr">top_n_per_article:</span> <span class="number">-1</span></span><br><span class="line">  <span class="comment"># Unescape html strings to the readable one.</span></span><br><span class="line">  <span class="attr">unescape:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># Preload the search data when the page loads.</span></span><br><span class="line">  <span class="attr">preload:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="hexo-neat-静态内容压缩"><a class="markdownIt-Anchor" href="#hexo-neat-静态内容压缩"></a> Hexo-neat 静态内容压缩</h3><ul><li>见站点优化</li></ul><h3 id="hexo-next-utteranc-utteranc-评论"><a class="markdownIt-Anchor" href="#hexo-next-utteranc-utteranc-评论"></a> Hexo-next-utteranc Utteranc 评论</h3><ul><li>见 utteranc 评论</li></ul><h3 id="hexo-related-popular-posts-文章推荐"><a class="markdownIt-Anchor" href="#hexo-related-popular-posts-文章推荐"></a> Hexo-related-popular-posts 文章推荐</h3><ul><li><p>根据标签和分类,在每篇博文的末尾推荐相关的博文. next 集成,就开启了.</p></li><li><p>主题配置文件</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Related popular posts</span></span><br><span class="line"><span class="comment"># Dependencies: https://github.com/tea3/hexo-related-popular-posts</span></span><br><span class="line"><span class="attr">related_posts:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># 启用</span></span><br><span class="line">  <span class="attr">title:</span> <span class="string">相关文章</span> <span class="comment"># Custom header, leave empty to use the default one</span></span><br><span class="line">  <span class="attr">display_in_home:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">params:</span></span><br><span class="line">    <span class="attr">maxCount:</span> <span class="number">5</span></span><br><span class="line">    <span class="attr">PPMixingRate:</span> <span class="number">0.25</span></span><br><span class="line">    <span class="attr">isDate:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">isImage:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">isExcerpt:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="hexo-service-worker-静态化"><a class="markdownIt-Anchor" href="#hexo-service-worker-静态化"></a> Hexo-service-worker 静态化</h3><ul><li>见站点优化</li></ul><h3 id="hexo-symbols-count-time-字数和阅读时间统计"><a class="markdownIt-Anchor" href="#hexo-symbols-count-time-字数和阅读时间统计"></a> Hexo-symbols-count-time 字数和阅读时间统计</h3><ul><li><p>与 Next 深度集成.</p></li><li><p>站点配置文件</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#hexo-symbols-count-time 时间统计</span></span><br><span class="line"><span class="attr">symbols_count_time:</span></span><br><span class="line">  <span class="attr">symbols:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">time:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">total_symbols:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">total_time:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure></li><li><p>主题配置文件</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Post wordcount display settings</span></span><br><span class="line"><span class="comment"># Dependencies: https://github.com/theme-next/hexo-symbols-count-time</span></span><br><span class="line"><span class="attr">symbols_count_time:</span></span><br><span class="line">  <span class="attr">separated_meta:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">item_text_post:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">item_text_total:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">awl:</span> <span class="number">4</span></span><br><span class="line">  <span class="attr">wpm:</span> <span class="number">275</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="hexo-generator-feed-rss"><a class="markdownIt-Anchor" href="#hexo-generator-feed-rss"></a> Hexo-generator-feed RSS</h3><ul><li><p>生成 rss 用于 rss 订阅.现在还在使用 rss 的人 可能到入土都会继续使用 rss.</p></li><li><p>具体参数见: <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2hleG9qcy9oZXhvLWdlbmVyYXRvci1mZWVk">hexo-generator-feed<i class="fa fa-external-link-alt"></i></span></p></li><li><p>站点配置文件</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">feed:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">atom</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">atom.xml</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">0</span></span><br><span class="line">  <span class="attr">hub:</span></span><br><span class="line">  <span class="attr">content:</span></span><br><span class="line">  <span class="attr">content_limit:</span> <span class="number">140</span></span><br><span class="line">  <span class="attr">content_limit_delim:</span> <span class="string">&#x27; &#x27;</span></span><br><span class="line">  <span class="attr">order_by:</span> <span class="string">-dated</span></span><br><span class="line">  <span class="attr">icon:</span> <span class="string">icon.png</span></span><br><span class="line">  <span class="attr">autodiscovery:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">template:</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="hexo-auto-category"><a class="markdownIt-Anchor" href="#hexo-auto-category"></a> <s>Hexo-auto-category</s></h3><p>根据 .md 文件的位置, 生成 category 信息, 比手动维护好多了.</p><p>正好本地维护的文件路径就是这样组织的, 歪打正着 🤣</p><ul><li>depth 是查看文件路径的深度</li></ul><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Generate categories from directory-tree</span></span><br><span class="line"><span class="comment"># Dependencies: https://github.com/xu-song/hexo-auto-category</span></span><br><span class="line"><span class="comment"># depth: the max_depth of directory-tree you want to generate, should &gt; 0</span></span><br><span class="line"><span class="comment"># multiple: multiple category hierarchies</span></span><br><span class="line"><span class="attr">auto_category:</span></span><br><span class="line"> <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line"> <span class="attr">multiple:</span> <span class="literal">false</span></span><br><span class="line"> <span class="attr">depth:</span> </span><br></pre></td></tr></table></figure><h3 id="hexo-directory-category"><a class="markdownIt-Anchor" href="#hexo-directory-category"></a> Hexo-directory-category</h3><p>作用等同 Hexo-auto-category , 但是 Hexo-auto-category 会修改原始的 md 文件, 这一点在 github action 上无法实现. 但是 Hexo-directory-category 可以.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">auto_dir_categorize:</span><br><span class="line">	<span class="built_in">enable</span>: <span class="literal">true</span>  <span class="comment"># options:true, false; default is true</span></span><br><span class="line">	force: <span class="literal">true</span> <span class="comment"># options:true, false; default is false</span></span><br></pre></td></tr></table></figure><ul><li>force 是忽略 md 文件已有的 category</li></ul><h2 id="站点优化"><a class="markdownIt-Anchor" href="#站点优化"></a> 站点优化</h2><ul><li>参考<ul><li><span class="exturl" data-url="aHR0cHM6Ly9ndWFucXIuY29tL3N0dWR5L2Jsb2cvc3BlZWQtdXAtaGV4by8=">加速 Hexo 博客的方法及遇到的问题<i class="fa fa-external-link-alt"></i></span></li><li><span class="exturl" data-url="aHR0cHM6Ly93d3cubGlhb2Z1emhhbi5jb20vcG9zdHMvMTU5OTQwMDczNS5odG1s">Hexo博客优化与加速<i class="fa fa-external-link-alt"></i></span></li></ul></li><li>这个说起来比较玄幻,本身对前端接触不多,大致只是按照一些博客文章进行的.</li><li>G 家的 <span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vc3BlZWQvcGFnZXNwZWVkL2luc2lnaHRzLz9obD16aF9jbg==">pagespeed<i class="fa fa-external-link-alt"></i></span> 评价网站速度.<s>优化前 50 到优化后 85 分.还算没白折腾吧.</s>(21.09.11) 评分貌似降低了很多.</li><li>另一个网站测速 <span class="exturl" data-url="aHR0cHM6Ly9ndG1ldHJpeC5jb20vcmVtb3ZlLXF1ZXJ5LXN0cmluZ3MtZnJvbS1zdGF0aWMtcmVzb3VyY2VzLmh0bWw=">PageSpeed<i class="fa fa-external-link-alt"></i></span></li></ul><h3 id="压缩静态资源-hexo-neat"><a class="markdownIt-Anchor" href="#压缩静态资源-hexo-neat"></a> 压缩静态资源 Hexo-neat</h3><ul><li><p>原理是移除 md 转 html 的过程中的大量空白符 (?)</p></li><li><p>这插件会增加编译的时间.</p></li><li><p>使用很简单,直接安装,在站点配置文件中配置.</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 博文压缩</span></span><br><span class="line"><span class="attr">neat_enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="comment"># 压缩html</span></span><br><span class="line"><span class="attr">neat_html:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">exclude:</span></span><br><span class="line"><span class="comment"># 压缩css  </span></span><br><span class="line"><span class="attr">neat_css:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">exclude:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&#x27;**/*.min.css&#x27;</span></span><br><span class="line"><span class="comment"># 压缩js</span></span><br><span class="line"><span class="attr">neat_js:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">mangle:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">output:</span></span><br><span class="line">  <span class="attr">compress:</span></span><br><span class="line">  <span class="attr">exclude:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&#x27;**/*.min.js&#x27;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&#x27;**/jquery.fancybox.pack.js&#x27;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&#x27;**/index.js&#x27;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&#x27;**/fireworks.js&#x27;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&#x27;**/pisces.js&#x27;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&#x27;**/utils.js&#x27;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&#x27;**/next-boot.js&#x27;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&#x27;**/local-search.js&#x27;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&#x27;**/algolia-search.js&#x27;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&#x27;**/bookmark.js&#x27;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&#x27;**/schemes/muse.js&#x27;</span></span><br></pre></td></tr></table></figure></li><li><p>压缩 js 时候比较坑,来回生成测试才排除了这几个文件.</p></li></ul><h3 id="pjax"><a class="markdownIt-Anchor" href="#pjax"></a> PJAX</h3><ul><li>通常用户点击标签切换页面,会请求一个新的 url 然后页面重新渲染加载一次.但是大部分页面只是文字变化,整体布局 css 等都不变,每点击一次刷新一遍太慢了. 而 ajax 可以做到局部刷新,整个页面不需要重新渲染一次. 但是使用 ajax 局部刷新不会改变页面的 url 这样破坏了用户前进后退的体验.</li><li>pjax 克服了 ajax 不改变 url 的缺点,每次点击后 url 都会改变,但是整体的布局不会重新刷新.大大加快了加载速度.</li><li>Next 7.x 已经整合了 pjax .so 能启用就启用吧.</li></ul><p>具体使用请参考 <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3RoZW1lLW5leHQvdGhlbWUtbmV4dC1wamF4">theme-next-pjax<i class="fa fa-external-link-alt"></i></span></p><h3 id="hexo-service-worker"><a class="markdownIt-Anchor" href="#hexo-service-worker"></a> Hexo-service-worker</h3><p>node 16 貌似无法安装,所以以下仅供参考.</p><ul><li><p>hexo-service-worker 可以把站点的静态资源包括 html 缓存起来,大大加快以后的访问速度 (恩,和第一次加载无关).</p></li><li><p>注意别把 blog 主页加进去了,否则其他人访问过你的 blog 没有清除缓存,就悲剧了.(我瞎写的)</p></li><li><p>把 origin 配置成 blog 的域名.</p></li><li><p>站点配置文件</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 博客离线</span></span><br><span class="line"><span class="attr">service_worker:</span></span><br><span class="line">  <span class="attr">maximumFileSizeToCacheInBytes:</span> <span class="number">5242880</span></span><br><span class="line">  <span class="attr">staticFileGlobs:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">public/about/*</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">public/archives/*</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">public/categories/*</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">public/css/*</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">public/images/*</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">public/jasper/*</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">public/js/*</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">public/lib/*</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">public/page/*</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">public/tags/*</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">public/404.html</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">public/search.xml</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">public/sw-register.js</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">public/sw.js</span></span><br><span class="line">  <span class="attr">stripPrefix:</span> <span class="string">public</span></span><br><span class="line">  <span class="attr">verbose:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">runtimeCaching:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">urlPattern:</span> <span class="string">/**/*</span></span><br><span class="line">      <span class="attr">handler:</span> <span class="string">cacheFirst</span></span><br><span class="line">      <span class="attr">options:</span></span><br><span class="line">        <span class="attr">origin:</span> <span class="string">jasper-1024.github.io</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="hexo-filter-optimize有坑"><a class="markdownIt-Anchor" href="#hexo-filter-optimize有坑"></a> hexo-filter-optimize(有坑)</h3><ul><li><p>这插件就比较纠结了,有效 但是造成的坑有点多.</p></li><li><p>原理不太理解.</p></li><li><p>站点配置文件</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">filter_optimize:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># remove static resource query string</span></span><br><span class="line">  <span class="comment">#   - like `?v=1.0.0`</span></span><br><span class="line">  <span class="attr">remove_query_string:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># remove the surrounding comments in each of the bundled   files</span></span><br><span class="line">  <span class="attr">remove_comments:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">css:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="comment"># bundle loaded css file into the one</span></span><br><span class="line">    <span class="attr">bundle:</span> <span class="literal">true</span></span><br><span class="line">    <span class="comment"># use a script block to load css elements dynamically</span></span><br><span class="line">    <span class="attr">delivery:</span> <span class="literal">true</span></span><br><span class="line">    <span class="comment"># make specific css content inline into the html page</span></span><br><span class="line">    <span class="comment">#   - only support the full path</span></span><br><span class="line">    <span class="comment">#   - default is [&#x27;css/main.css&#x27;]</span></span><br><span class="line">    <span class="attr">inlines:</span></span><br><span class="line">    <span class="attr">excludes:</span></span><br><span class="line">  <span class="attr">js:</span></span><br><span class="line">    <span class="comment"># bundle loaded js file into the one</span></span><br><span class="line">    <span class="attr">bundle:</span> <span class="literal">false</span> <span class="comment"># 启用后造成 mathjax 失效,或许换 Katex 有效.</span></span><br><span class="line">    <span class="attr">excludes:</span></span><br><span class="line">      <span class="comment">#- &#x27;**/*.js&#x27;</span></span><br><span class="line">  <span class="comment"># set the priority of this plugin,</span></span><br><span class="line">  <span class="comment"># lower means it will be executed first, default is 10</span></span><br><span class="line">  <span class="attr">priority:</span> <span class="number">12</span></span><br></pre></td></tr></table></figure></li><li><p>mathjax 失效</p><ul><li>只能关闭对 js 的过滤.或许以后换到 Katex 可以避免.</li></ul></li><li><p>Font Awesome 图标无法加载</p><ul><li><p>换到 CDN 加载.</p></li><li><p>主题配置文件</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">  <span class="comment"># Internal version: 4.7.0</span></span><br><span class="line"><span class="comment"># fontawesome: //cdn.jsdelivr.net/npm/font-awesome@4/css/font-awesome.min.css</span></span><br><span class="line"><span class="attr">fontawesome:</span> <span class="string">//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css</span></span><br><span class="line"><span class="comment">#fontawesome:</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p>如果你使用了更多的样式,音乐播放器,更多的动画等,或许还会遇到更多 Bug .</p></li></ul><h3 id="图片懒加载"><a class="markdownIt-Anchor" href="#图片懒加载"></a> 图片懒加载</h3><ul><li><p>写 blog 时候经常会用到大量图片,而图床越来越少也越来越慢.图片懒加载提上日程.</p></li><li><p>其实很简单 next 已经集成了.</p></li><li><p>主题配置文件</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Vanilla JavaScript plugin for lazyloading images.</span></span><br><span class="line"><span class="comment"># For more information: https://github.com/ApoorvSaxena/lozad.js</span></span><br><span class="line"><span class="attr">lazyload:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="obsidian-语法支持"><a class="markdownIt-Anchor" href="#obsidian-语法支持"></a> Obsidian 语法支持</h2><h3 id="hexo-obsidian-block-ref-cover"><a class="markdownIt-Anchor" href="#hexo-obsidian-block-ref-cover"></a> <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL0phc3Blci0xMDI0L2hleG8tb2JzaWRpYW4tYmxvY2stcmVmLWNvdmVy">hexo-obsidian-block-ref-cover<i class="fa fa-external-link-alt"></i></span></h3><p>obsidian 双链语法, 转为 <a href="/jasper/968d55ac/#hexo-abbrlink-文章短链接">#Hexo-abbrlink 文章短链接</a> 的短链接.支持下面的块引用语法:</p><p><code>[[file]]</code> <code>[[file|text]]</code><br><code>[[file#title]]</code> <code>[[file#title|text]]</code><br><code>[[file#^id]]</code> <code>[[file#^id|text]]</code></p><p><code>[[#title]]</code> <code>[[#title|text]]</code><br><code>[[#^id]]</code> <code>[[#^id|text]]</code></p><ul><li>本文件自引用.</li></ul><p>这是写的第一个 npm 插件, 在 gpt 帮助下完成. gpt 的意义似乎完全低估了.</p><h3 id="mdit-plugin-callouts"><a class="markdownIt-Anchor" href="#mdit-plugin-callouts"></a> <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3dpZGNhcmR3L21kaXQtcGx1Z2luLWNhbGxvdXRz">mdit-plugin-callouts<i class="fa fa-external-link-alt"></i></span>(未完成)</h3><p>支持 callouts 语法, 作为提示非常实用.</p><p>参考 <span class="exturl" data-url="aHR0cHM6Ly91dWFucWluLnRvcC9wL2Q0YmM1NWYyL2luZGV4Lmh0bWw=">Hexo 博客适配 Obsidian 新语法<i class="fa fa-external-link-alt"></i></span> 将其引入了 NEXT ,但是其样式没有正确显示. 应该配置文件哪里写的有问题; 待更新;</p><h3 id="markdown-it-task-lists"><a class="markdownIt-Anchor" href="#markdown-it-task-lists"></a> <span class="exturl" data-url="aHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2UvbWFya2Rvd24taXQtdGFzay1saXN0cw==">markdown-it-task-lists<i class="fa fa-external-link-alt"></i></span></h3><p>支持任务列表语法; 这个语法平时不咋用, 但是支持就比不支持好是吧…</p><h2 id="其他"><a class="markdownIt-Anchor" href="#其他"></a> 其他</h2><h3 id="next-数学公式支持"><a class="markdownIt-Anchor" href="#next-数学公式支持"></a> NEXT 数学公式支持</h3><h4 id="编写数学公式"><a class="markdownIt-Anchor" href="#编写数学公式"></a> 编写数学公式</h4><ul><li><span class="exturl" data-url="aHR0cHM6Ly90aGVtZS1uZXh0Lm9yZy9kb2NzL3RoaXJkLXBhcnR5LXNlcnZpY2VzL21hdGgtZXF1YXRpb25zLmh0bWw=">官方文档<i class="fa fa-external-link-alt"></i></span></li><li>Next 主题内置了对数学公式的支持,主要有 MathJax 和 Katex 两种.</li><li>MathJax 是一个 JavaScript 引擎,用来显示数学公式,支持大部分的主流浏览器,但毕竟是 JS 渲染,有一定的性能损失,目前大部分的数学公式都是基于 MathJax.</li><li>Katex 比 MathJax 快的多,即使禁用 JS 也可以正常渲染.但是支持的语法有限,等待进一步完善.</li><li>这里还是选择了 MathJax .</li><li>在 Next7.x 及以后 ,不再需要复杂的配置.</li></ul><h4 id="启用数学公式支持"><a class="markdownIt-Anchor" href="#启用数学公式支持"></a> 启用数学公式支持</h4><ul><li><p>Next7.3 及以下版本,主题配置文件 next/_config.yml 中配置.7.3 及以上,建议在 <code>source/_data/next.yml</code> 中修改.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">math</span>:</span><br><span class="line">  # <span class="title class_">Default</span> (<span class="literal">true</span>) will load mathjax / katex script on demand.</span><br><span class="line">  # <span class="title class_">That</span> is it only render those page which has <span class="string">`mathjax: true`</span> <span class="keyword">in</span> <span class="title class_">Front</span>-matter.</span><br><span class="line">  # 如果设置为 <span class="literal">false</span> 每篇博文都会加载 mathjax 或 katex</span><br><span class="line">  <span class="attr">per_page</span>: <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">  # hexo-renderer-<span class="title function_">pandoc</span> (or hexo-renderer-kramed) required <span class="keyword">for</span> full <span class="title class_">MathJax</span>   support.</span><br><span class="line">  <span class="attr">mathjax</span>:</span><br><span class="line">    <span class="attr">enable</span>: <span class="literal">true</span></span><br><span class="line">    # <span class="title class_">See</span>: <span class="attr">https</span>:<span class="comment">//mhchem.github.io/MathJax-mhchem/</span></span><br><span class="line">    <span class="attr">mhchem</span>: <span class="literal">true</span></span><br></pre></td></tr></table></figure></li><li><p><s>正常显示数学公式还需要更换 hexo 的默认渲染引擎.</s></p></li></ul><h4 id="更换渲染引擎-完整-mathjax-支持-可选"><a class="markdownIt-Anchor" href="#更换渲染引擎-完整-mathjax-支持-可选"></a> <s>更换渲染引擎</s> 完整 Mathjax 支持 (可选)</h4><ul><li><p><s>hexo 的默认渲染引擎与 MathJax 有语法冲突,故只能更换</s>. (20.01.19) Mathjax 在 Next 7.x 在默认引擎上已经可以渲染.如果需要完整的 Mathjax 支持 才需要更换渲染引擎.有 <code>hexo-renderer-pandoc</code> 和 <code>hexo-renderer-kramed</code></p></li><li><p><code>hexo-renderer-pandoc</code> 很好的照顾了 MathJax 语法,但是非常遗憾的是 Pandoc 和 markdown 的语法有一些不兼容,截至 17 年底之前的博文,没有按照 markdownlint 的标准来,都没有办法正常渲染.建议新博客可以选择 <code>hexo-renderer-pandoc</code> .(20.01.19) 目前还遇到了一个提示为 null 的错误,没有找到有关信息,只能暂时弃用.</p></li><li><p><code>hexo-renderer-kramed</code> 是基于 hexo 默认的渲染引擎小改,修补 bug 而来,因此很好的保持了兼容性,但是不支持 emoji 和插件.</p></li><li><p>在 hexo 的文件夹下进入终端</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 卸载原版</span></span><br><span class="line">npm un hexo-renderer-marked --save</span><br><span class="line"><span class="comment"># hexo-renderer-kramed</span></span><br><span class="line">npm install hexo-renderer-kramed --save</span><br><span class="line"><span class="comment"># hexo-renderer-pandoc</span></span><br><span class="line">npm install hexo-renderer-pandoc --save</span><br></pre></td></tr></table></figure></li><li><p><s>next/_config.yml 中将 math 的 enable 打开，并选择 mathjax 作为渲染引擎。</s></p></li></ul><h4 id="坑"><a class="markdownIt-Anchor" href="#坑"></a> 坑</h4><ul><li><p><code>hexo-renderer-kramed</code> 有一点瑕疵.Markdown 的 `` 行内程序代码 和 mathjax 的 <code>$$</code> 行内公式,还是有冲突.有两种办法.</p></li><li><p>直接使用 <code>$ $</code> 的语法进行,作者语.</p></li><li><p>修改渲染器,解决冲突.</p><ul><li><p>找到 hexo 文件夹下\node_modules\kramed\lib\rules\inline.js</p></li><li><p>第 11 行 escape 变量的值做相应的修改：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//escape: /^\\([\\`*&#123;&#125;\[\]()#$+\-.!_&gt;])/,</span></span><br><span class="line"><span class="attr">escape</span>: <span class="regexp">/^\\([`*\[\]()#$+\-.!_&gt;])/</span>,hexo</span><br></pre></td></tr></table></figure></li><li><p>第 20 行的 em</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//em: /^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,</span></span><br><span class="line"><span class="attr">em</span>: <span class="regexp">/^\*((?:\*\*|[\s\S])+?)\*(?!\*)/</span>,</span><br></pre></td></tr></table></figure></li></ul></li><li><p>这样兼容性问题基本处理完毕.</p></li><li><p>执行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure><p>可以预览效果了</p></li></ul><h4 id="mathjax-语法"><a class="markdownIt-Anchor" href="#mathjax-语法"></a> MathJax 语法</h4><ul><li>每篇博文需要在标题栏手动启用 <code>mathjax: true</code> 才能正常渲染.(可能是处于性能考虑),例如</li></ul><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: test</span><br><span class="line">date: 2019-01-15 00:00:00</span><br><span class="line">categories:</span><br><span class="line">- test</span><br><span class="line">mathjax: true</span><br><span class="line">---</span><br></pre></td></tr></table></figure><ul><li><p>语法详情参考</p><blockquote><p><span class="exturl" data-url="aHR0cHM6Ly93d3cuenlidWx1by5jb20vY29kZWVwL25vdGUvMTYzOTYyIzMlRTUlQTYlODIlRTQlQkQlOTUlRTglQkUlOTMlRTUlODUlQTUlRTYlOEIlQUMlRTUlOEYlQjclRTUlOTIlOEMlRTUlODglODYlRTklOUElOTQlRTclQUMlQTY=">https://www.zybuluo.com/codeep/note/163962#3如何输入括号和分隔符<i class="fa fa-external-link-alt"></i></span></p></blockquote></li><li><p>不再赘述.</p></li></ul><h4 id="vscode-预览-mathjax"><a class="markdownIt-Anchor" href="#vscode-预览-mathjax"></a> Vscode 预览 MathJax</h4><ul><li>找这个支持费了好大经历,最后直接搜索 vscode 官方的插件库,第一个….</li><li>vscode 搜索安装 <code>Markdown+Math</code> 插件,即可在预览 MD 时,看到对应公式效果.不影响 markdownlint 的提示.</li><li>ps: 最新版的 vscode 插件安装完成后无需重启了.</li></ul><h3 id="博文按更新时间排序"><a class="markdownIt-Anchor" href="#博文按更新时间排序"></a> 博文按更新时间排序</h3><ul><li><p>在升级 next6 后,添加了博文更新时间,但默认的排序还是博文的创建时间.</p></li><li><p>其实在 hexo 内部 updated 参数是存在的,按照更新时间排序,只需要调整一下主配置文件 <code>/Hexo/_config.yml</code></p></li><li><p>添加</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">index_generator:</span></span><br><span class="line"><span class="attr">path:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="attr">per_page:</span> <span class="number">10</span></span><br><span class="line"><span class="attr">order_by:</span> <span class="string">-updated</span></span><br></pre></td></tr></table></figure></li><li><p><s>(12.28) 切换到 Github Actions 后,每次部署都是全新的 git clone MD 文件.这样文件更新时间不准确,引起排序混乱.只能暂时回退.</s></p></li><li><p><s>(12.30) 因为 Github Actions 原理问题,干脆在模板上附加上 updated 标签解决.不知为何, update 混乱的博文只有几篇.</s></p></li><li><p>(20.01.18) 因为升级到 7.7 的过程中,加入了博文的唯一标识模块,导致每篇文章都增加了一个 abbrlink 的标记,目前只能写了一个脚本,每篇上增加了 updated 标签.</p></li></ul><h3 id="博文更新同时更新-rss"><a class="markdownIt-Anchor" href="#博文更新同时更新-rss"></a> 博文更新,同时更新 RSS</h3><ul><li><p>之前一直没太在意,最近翻了翻配置,就该一个参数…</p></li><li><p>站点配置文件</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">feed:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">atom</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">atom.xml</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">0</span></span><br><span class="line">  <span class="attr">hub:</span></span><br><span class="line">  <span class="attr">content:</span> <span class="literal">true</span> <span class="comment"># 设置为 true 则 rss 是全文输出.</span></span><br><span class="line">  <span class="attr">content_limit:</span> <span class="number">140</span> <span class="comment"># content 为空 或 false 则限制每篇的长度</span></span><br><span class="line">  <span class="attr">content_limit_delim:</span> <span class="string">&#x27; &#x27;</span></span><br><span class="line">  <span class="attr">order_by:</span> <span class="string">-updated</span> <span class="comment"># 按照更新时间排列</span></span><br><span class="line">  <span class="attr">icon:</span> <span class="string">icon.png</span></span><br><span class="line">  <span class="attr">autodiscovery:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">template:</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="github-actions-部署"><a class="markdownIt-Anchor" href="#github-actions-部署"></a> Github Actions 部署</h2><ul><li>原本是打算有时间把 hexo 扔进 docker 里面,部署到那个服务器上.突然遇到了 GIthub Actions.</li><li>至此 Blog 基本实现了自己的期望,写作完成即发布.</li><li>详情见 <span class="exturl" data-url="aHR0cHM6Ly9qYXNwZXItMTAyNC5naXRodWIuaW8vMjAxOS8xMi8yNi9HaXRodWIlMjBBY3Rpb25zJTIwJUU5JTgzJUE4JUU3JUJEJUIyJTIwSGV4by8=">Github Actions 部署 Hexo<i class="fa fa-external-link-alt"></i></span></li><li>过程其实不难,只是 utterances 那里有个小坑,或许 utterances ,在 Actions 的脚本中要附加上安装插件的命令.应该是引用的安装 node 脚本中没有安装这个插件的过程.</li></ul><h2 id="一二个坑"><a class="markdownIt-Anchor" href="#一二个坑"></a> 一二个坑</h2><ul><li><p>突然收到邮件,action 失败,经过排查是一段代码引起的.原因不明,暂时只记录.</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$&#123;#varname&#125;</span> <span class="comment"># 相同的代码段,如果写成 `$&#123;#varname&#125;` 就会直接生成失败.</span></span><br><span class="line"><span class="comment"># $\left. \frac&#123;&#123;\rm d&#125;u&#125;&#123;&#123;\rm d&#125;x&#125; \right| _&#123;x=0&#125;$ </span></span><br><span class="line"><span class="comment"># 写成上面 带 \frac&#123;&#123;\rm d&#125;u&#125;&#123;&#123;\rm d&#125;x&#125; 就编译不过.</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="忽略指定文件文件夹"><a class="markdownIt-Anchor" href="#忽略指定文件文件夹"></a> 忽略指定文件/文件夹</h2><p>目前写 blog 迁移到了 Obsidian,导致主文件夹下多了几个 Obsidian 的文件,结果推送后多出了一个乱码文章…</p><p>参考 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlvL3poLWNuL2RvY3MvY29uZmlndXJhdGlvbi5odG1sIyVFNyU5QiVBRSVFNSVCRCU5NQ==">配置 | Hexo<i class="fa fa-external-link-alt"></i></span>.</p><p>在站点配置文件 skip_render 参数可以指定编译时忽略的文件/文件夹.支持通配符.</p><p>PS: <strong>注意这里的文件都是 /source 下的相对路径</strong></p><p>我需要忽略</p><ul><li>_posts/obsidian.css</li><li>_posts/.obsidian/下所有文件.</li></ul><p>所以对应的 skip_render 是</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">skip_render:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">_posts/obsidian.css</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">_posts/.obsidian/**</span></span><br></pre></td></tr></table></figure></div><footer class="post-footer"><template id="not-by-ai-badge-template"><li class="post-copyright-not-by-ai"><strong>Not By AI:</strong> <a class="not-by-ai-badge-link" href="https://notbyai.fyi/tw/" target="_blank" rel="noopener noreferrer" title="Not By AI"><img class="not-by-ai-badge not-by-ai-badge--light" src="/images/not-by-ai-written-black-tw.svg" alt="Written By Human, Not By AI"> <img class="not-by-ai-badge not-by-ai-badge--dark" src="/images/not-by-ai-written-white-tw.svg" alt="Written By Human, Not By AI"></a></li></template><div class="post-copyright"><ul><li class="post-copyright-author"><strong>本文作者： </strong>Jasper</li><li class="post-copyright-link"><strong>本文链接：</strong> <a href="https://jasper1024.com/jasper/968d55ac/" title="Hexo博客配置升级集合">https://jasper1024.com/jasper/968d55ac/</a></li><li class="post-copyright-license"><strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC8="><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div><div class="post-tags"><a href="/tags/MathJax/" rel="tag"># MathJax</a></div><div class="post-nav"><div class="post-nav-item"><a href="/jasper/ab3dce4/" rel="prev" title="数据库-基础"><i class="fa fa-angle-left"></i> 数据库-基础</a></div><div class="post-nav-item"><a href="/jasper/a8319d44/" rel="next" title="动态规划(二)">动态规划(二) <i class="fa fa-angle-right"></i></a></div></div></footer></article></div><div class="tabs tabs-comment"><ul class="nav-tabs"><li class="tab"><a href="#comment-utterances">utterances</a></li><li class="tab"><a href="#comment-disqus">disqus</a></li></ul><div class="tab-content"><div class="tab-pane utterances" id="comment-utterances"><div class="comments utterances-container"></div></div><div class="tab-pane disqus" id="comment-disqus"><div class="comments" id="disqus_thread"><noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript></div></div></div></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; 2016 – <span itemprop="copyrightYear">2026</span> <span class="with-love"><i class="fa fa-user"></i> </span><span class="author" itemprop="copyrightHolder">JasperHale</span></div><div class="wordcount"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-chart-line"></i> </span><span>站点总字数：</span> <span title="站点总字数">1.2m</span> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-coffee"></i> </span><span>站点阅读时长 &asymp;</span> <span title="站点阅读时长">18:54</span></span></div><div class="powered-by">由 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & <span class="exturl" data-url="aHR0cHM6Ly90aGVtZS1uZXh0LmpzLm9yZy9waXNjZXMv">NexT.Pisces</span> 强力驱动</div></div></footer><div class="toggle sidebar-toggle" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div><div class="sidebar-dimmer"></div><div class="reading-progress-bar"></div><span class="exturl github-corner" data-url="aHR0cHM6Ly9naXRodWIuY29tL0phc3Blci0xMDI0" title="在 GitHub 上关注我" aria-label="在 GitHub 上关注我"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></span><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><script class="next-config" data-name="disqus" type="application/json">{"enable":true,"shortname":"jasper1024","count":true,"i18n":{"disqus":"disqus"}}</script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-next@8.27.0/source/js/third-party/comments/disqus.min.js" defer></script><script class="next-config" data-name="utterances" type="application/json">{"enable":true,"repo":"Jasper-1024/blog_discuss","issue_term":"pathname","theme":"github-dark"}</script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-next@8.27.0/source/js/third-party/comments/utterances.min.js" defer></script><script>!function(){function e(){var e,t=document.getElementById("not-by-ai-badge-template");t&&t.content&&((e=document.querySelector(".post-copyright ul"))&&(e.querySelector(".post-copyright-not-by-ai")||e.appendChild(t.content.cloneNode(!0))))}e(),document.addEventListener("pjax:complete",e)}()</script><div class="moon-menu"><div class="moon-menu-items"><div id="moon-menu-item-back2bottom" class="moon-menu-item"><i class="fas fa-chevron-down"></i></div><div id="moon-menu-item-back2top" class="moon-menu-item"><i class="fas fa-chevron-up"></i></div></div><div class="moon-menu-button"><svg class="moon-menu-bg"><circle class="moon-menu-cricle" cx="50%" cy="50%" r="44%"></circle><circle class="moon-menu-border" cx="50%" cy="50%" r="48%"></circle></svg><div class="moon-menu-content"><div class="moon-menu-icon"><i class="fas fa-ellipsis-v"></i></div><div class="moon-menu-text"></div></div></div></div><script src="/js/injector.js"></script></body></html>