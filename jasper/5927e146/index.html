<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="theme-color" content="#222" media="(prefers-color-scheme: light)"><meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 7.3.0"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png"><link rel="mask-icon" href="/images/logo.svg" color="#222"><meta name="google-site-verification" content="M2t8cZr5nIzHmltyt7Utj3nWYxNyNkCzFyigXBHkGUs"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.0.0/css/all.min.css" integrity="sha256-VHqXKFhhMxcpubYf9xiWdCiojEbY9NexQ4jh8AxbvcM=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.31/dist/fancybox/fancybox.css" integrity="sha256-gkQVf8UKZgQ0HyuxL/VnacadJ+D2Kox2TCEBuNQg5+w=" crossorigin="anonymous"><script class="next-config" data-name="main" type="application/json">{"hostname":"jasper1024.com","root":"/","images":"/images","scheme":"Pisces","darkmode":true,"version":"8.27.0","exturl":true,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"codeblock":{"theme":{"light":"vs2015","dark":"vs2015"},"prism":{"light":"prism-vsc-dark-plus","dark":"prism-vsc-dark-plus"},"copy_button":{"enable":true,"style":"mac"},"fold":{"enable":false,"height":500},"language":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":true,"pangu":false,"comments":{"style":"tabs","active":"disqus","storage":true,"lazyload":true,"nav":{"disqus":{"text":"disqus","order":-1},"utterances":{"text":"utterances","order":-2}},"activeClass":"disqus"},"stickytabs":true,"motion":{"enable":true,"async":true,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"top_n_per_article":1,"unescape":false,"preload":false,"trigger":"auto"}}</script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-next@8.27.0/source/js/config.min.js" defer></script><meta name="description" content="VPS常用网络加速集合.   更新 12345678910111213更新2016.06.26 初始化。2016.06.28 TCP优化部分完成2016.06.29 FinalSpeed和锐速部分基本完成。2016.12.11 重新整理相关内容.2016.12.15 增加TCP-BBR2017.01.11 整理相关内容，增加锐速配置优化2017.03.28 更新一部分配置内容，删除无效内容20"><meta property="og:type" content="article"><meta property="og:title" content="VPS网络优化and加速"><meta property="og:url" content="https://jasper1024.com/jasper/5927e146/index.html"><meta property="og:site_name" content="默"><meta property="og:description" content="VPS常用网络加速集合.   更新 12345678910111213更新2016.06.26 初始化。2016.06.28 TCP优化部分完成2016.06.29 FinalSpeed和锐速部分基本完成。2016.12.11 重新整理相关内容.2016.12.15 增加TCP-BBR2017.01.11 整理相关内容，增加锐速配置优化2017.03.28 更新一部分配置内容，删除无效内容20"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2016-06-27T17:52:16.000Z"><meta property="article:modified_time" content="2021-01-08T10:10:11.000Z"><meta property="article:author" content="Jasper"><meta property="article:tag" content="VPS"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://jasper1024.com/jasper/5927e146/"><script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://jasper1024.com/jasper/5927e146/","path":"jasper/5927e146/","title":"VPS网络优化and加速"}</script><script class="next-config" data-name="calendar" type="application/json">""</script><title>VPS网络优化and加速 | 默</title><script async src="https://www.googletagmanager.com/gtag/js?id=UA-207687331-1"></script><script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"UA-207687331-1","only_pageview":false,"measure_protocol_api_secret":null}</script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-next@8.27.0/source/js/third-party/analytics/google-analytics.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous" defer></script><script src="https://cdn.jsdelivr.net/npm/@next-theme/pjax@0.6.0/pjax.min.js" integrity="sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao=" crossorigin="anonymous" defer></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.31/dist/fancybox/fancybox.umd.js" integrity="sha256-a+H7FYzJv6oU2hfsfDGM2Ohw/cR9v+hPfxHCLdmCrE8=" crossorigin="anonymous" defer></script><script src="https://cdn.jsdelivr.net/npm/lozad@1.16.0/dist/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous" defer></script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-next@8.27.0/source/js/comments.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-next@8.27.0/source/js/utils.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-next@8.27.0/source/js/motion.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-next@8.27.0/source/js/sidebar.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-next@8.27.0/source/js/next-boot.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-next@8.27.0/source/js/pjax.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.5.0/dist/search.js" integrity="sha256-xFC6PJ82SL9b3WkGjFavNiA9gm5z6UBxWPiu4CYjptg=" crossorigin="anonymous" defer></script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-next@8.27.0/source/js/third-party/search/local-search.min.js" defer></script><script class="next-config" data-name="pdf" type="application/json">{"object_url":{"url":"https://cdn.jsdelivr.net/npm/pdfobject@2.3.1/pdfobject.min.js","integrity":"sha256-jI72I8ZLVflVOisZIOaLvRew3tyvzeu6aZXFm7P7dEo="},"url":"/lib/pdf/web/viewer.html"}</script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-next@8.27.0/source/js/third-party/tags/pdf.min.js" defer></script><script class="next-config" data-name="mermaid" type="application/json">{"enable":true,"theme":{"light":"default","dark":"dark"},"js":{"url":"https://cdn.jsdelivr.net/npm/mermaid@11.10.1/dist/mermaid.min.js","integrity":"sha256-BmQmdWDS8X2OTbrwELWK366LV6escyWhHHe0XCTU/Hk="}}</script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-next@8.27.0/source/js/third-party/tags/mermaid.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-next@8.27.0/source/js/third-party/fancybox.min.js" defer></script><script class="next-config" data-name="leancloud_visitors" type="application/json">{"enable":true,"app_id":"ItayEcWO7OsLFKF2Y8SsAYG1-MdYXbMMI","app_key":"18UBQFmJXXcOQFebLovT36lh","server_url":null,"security":false}</script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-next@8.27.0/source/js/third-party/statistics/lean-analytics.min.js" defer></script><script class="next-config" data-name="enableMath" type="application/json">true</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css" integrity="sha256-UF1fgpAiu3tPJN/uCqEUHNe7pnr+QR0SQDNfgglgtcM=" crossorigin="anonymous"><script src="https://cdn.jsdelivr.net/npm/quicklink@3.0.1/dist/quicklink.umd.js" integrity="sha256-44BednzIpUeQJcY8qtLyarFu0UCCTbgmWOvaoehiFQQ=" crossorigin="anonymous" defer></script><script class="next-config" data-name="quicklink" type="application/json">{"enable":true,"home":false,"archive":false,"delay":true,"timeout":3000,"priority":true,"url":"https://jasper1024.com/jasper/5927e146/"}</script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-next@8.27.0/source/js/third-party/quicklink.min.js" defer></script><link rel="stylesheet" href="/css/callout_blocks.css"><link rel="stylesheet" type="text/css" href="/css/injector/main.css"><link rel="preload" as="style" href="/css/injector/light.css"><link rel="preload" as="style" href="/css/injector/dark.css"><noscript><link rel="stylesheet" href="/css/noscript.css"></noscript><link rel="alternate" href="/atom.xml" title="默" type="application/rss+xml"></head><body itemscope itemtype="http://schema.org/WebPage" class="use-motion"><div class="headband"></div><main class="main"><div class="column"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><i class="logo-line"></i><p class="site-title">默</p><i class="logo-line"></i></a><p class="site-subtitle" itemprop="description">生存是唯一的长路</p></div><div class="site-nav-right"><div class="toggle popup-trigger" aria-label="搜索" role="button"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">46</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">326</span></a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">62</span></a></li><li class="menu-item menu-item-guestbook"><a href="/guestbook/" rel="section"><i class="fa fa-comments fa-fw"></i>留言</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" maxlength="80" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close" role="button"><i class="fa fa-times-circle"></i></span></div><div class="search-result-container"><div class="search-result-icon"><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></header><aside class="sidebar"><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc">文章目录</li><li class="sidebar-nav-overview">站点概览</li></ul><div class="sidebar-panel-container"><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AF%BC%E8%AF%AD"><span class="nav-number">1.</span> <span class="nav-text">导语</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%80%BB%E8%A7%88"><span class="nav-number">2.</span> <span class="nav-text">总览</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#tcp%E4%BC%98%E5%8C%96"><span class="nav-number">3.</span> <span class="nav-text">TCP优化</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#tcp-bbr"><span class="nav-number">4.</span> <span class="nav-text">TCP-BBR</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8E%9F%E7%89%88bbr"><span class="nav-number">4.1.</span> <span class="nav-text">原版BBR</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E7%89%88bbr"><span class="nav-number">4.2.</span> <span class="nav-text">修改版BBR</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#vicer%E7%89%88bbr"><span class="nav-number">4.2.1.</span> <span class="nav-text">Vicer版BBR</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#debian-7%E6%89%8B%E5%8A%A8%E5%AE%89%E8%A3%85gcc49"><span class="nav-number">4.2.1.1.</span> <span class="nav-text">Debian 7手动安装gcc4.9</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%AD%94%E6%94%B9%E7%89%88bbr"><span class="nav-number">4.2.2.</span> <span class="nav-text">魔改版BBR</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#bbrplus"><span class="nav-number">4.3.</span> <span class="nav-text">BBRplus</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#hybla"><span class="nav-number">5.</span> <span class="nav-text">hybla</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%94%90%E9%80%9F"><span class="nav-number">6.</span> <span class="nav-text">锐速</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%94%90%E9%80%9F%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%BF%AE%E6%94%B9"><span class="nav-number">6.1.</span> <span class="nav-text">锐速配置文件修改</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#finalspeed"><span class="nav-number">7.</span> <span class="nav-text">FinalSpeed</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#kcptun"><span class="nav-number">8.</span> <span class="nav-text">Kcptun</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#udpspeeder"><span class="nav-number">9.</span> <span class="nav-text">UDPspeeder</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#udp2raw-tunnel"><span class="nav-number">10.</span> <span class="nav-text">Udp2raw-tunnel</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BB%93%E6%9D%9F"><span class="nav-number">11.</span> <span class="nav-text">结束</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="Jasper" src="/images/avatar.jfif"><p class="site-author-name" itemprop="name">Jasper</p><div class="site-description" itemprop="description">微尘</div></div><div class="site-state-wrap animated"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">326</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">46</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">62</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author animated"><span class="links-of-author-item"><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2phc3Blci0xMDI0" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;jasper-1024"><i class="fab fa-github fa-fw"></i>GitHub</span> </span><span class="links-of-author-item"><a href="/ljy087621@gmail.com" title="E-Mail → ljy087621@gmail.com" rel="noopener me"><i class="fa fa-envelope fa-fw"></i>E-Mail</a> </span><span class="links-of-author-item"><span class="exturl" data-url="aHR0cHM6Ly94LmNvbS9KYXNwZXJfMTAyNA==" title="Twitter → https:&#x2F;&#x2F;x.com&#x2F;Jasper_1024"><i class="fab fa-twitter fa-fw"></i>Twitter</span> </span><span class="links-of-author-item"><span class="exturl" data-url="aHR0cHM6Ly90Lm1lL2phc3BlcjEwMjQ=" title="Telegram → https:&#x2F;&#x2F;t.me&#x2F;jasper1024"><i class="fab fa-skype fa-fw"></i>Telegram</span> </span><span class="links-of-author-item"><a href="/atom.xml" title="RSS → &#x2F;atom.xml" rel="noopener me"><i class="fas fa-rss fa-fw"></i>RSS</a></span></div></div></div><div class="back-to-top animated" role="button" aria-label="返回顶部"><i class="fa fa-arrow-up"></i> <span>0%</span></div></div><div class="sidebar-inner sidebar-blogroll"><div class="links-of-blogroll animated"><div class="links-of-blogroll-title"><i class="fa fa-globe fa-fw"></i> 链接</div><ul class="links-of-blogroll-list"><li class="links-of-blogroll-item"><span class="exturl" data-url="aHR0cHM6Ly9ibG9nLmZvcmVjaG8uY29tLw==" title="https:&#x2F;&#x2F;blog.forecho.com&#x2F;">forecho</span></li><li class="links-of-blogroll-item"><span class="exturl" data-url="aHR0cHM6Ly9ibG9nLmZvcmVjaG8uY29tL2ZyaWVuZHNoaXAtbGlua3Mv" title="https:&#x2F;&#x2F;blog.forecho.com&#x2F;friendship-links&#x2F;">友链聚合</span></li></ul></div></div></aside></div><div class="main-inner post posts-expand"><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://jasper1024.com/jasper/5927e146/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jfif"><meta itemprop="name" content="Jasper"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="默"><meta itemprop="description" content="微尘"></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content="VPS网络优化and加速 | 默"><meta itemprop="description" content=""></span><header class="post-header"><h1 class="post-title" itemprop="name headline">VPS网络优化and加速</h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2016-06-27 17:52:16" itemprop="dateCreated datePublished" datetime="2016-06-27T17:52:16Z">2016-06-27</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2021-01-08 10:10:11" itemprop="dateModified" datetime="2021-01-08T10:10:11Z">2021-01-08</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a> </span>， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux/%E5%85%B6%E4%BB%96/" itemprop="url" rel="index"><span itemprop="name">其他</span></a> </span></span><span id="/jasper/5927e146/" class="post-meta-item leancloud_visitors" data-flag-title="VPS网络优化and加速" title="阅读次数"><span class="post-meta-item-icon"><i class="far fa-eye"></i> </span><span class="post-meta-item-text">阅读次数：</span> <span class="leancloud-visitors-count"></span> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i> </span><span class="post-meta-item-text">Disqus：</span> <a title="disqus" href="/jasper/5927e146/#disqus_thread" itemprop="discussionUrl"><span class="post-comments-count disqus-comment-count" data-disqus-identifier="jasper/5927e146/" itemprop="commentCount"></span> </a></span><span class="post-meta-break"></span> <span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>9.4k</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>9 分钟</span></span></div></div></header><div class="post-body" itemprop="articleBody"><ul><li><p>VPS常用网络加速集合.</p></li><li><p>更新</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">更新</span><br><span class="line"><span class="number">2016.06</span>.<span class="number">26</span> 初始化。</span><br><span class="line"><span class="number">2016.06</span>.<span class="number">28</span> TCP优化部分完成</span><br><span class="line"><span class="number">2016.06</span>.<span class="number">29</span> FinalSpeed和锐速部分基本完成。</span><br><span class="line"><span class="number">2016.12</span>.<span class="number">11</span> 重新整理相关内容.</span><br><span class="line"><span class="number">2016.12</span>.<span class="number">15</span> 增加TCP-BBR</span><br><span class="line"><span class="number">2017.01</span>.<span class="number">11</span> 整理相关内容，增加锐速配置优化</span><br><span class="line"><span class="number">2017.03</span>.<span class="number">28</span> 更新一部分配置内容，删除无效内容</span><br><span class="line"><span class="number">2017.04</span>.<span class="number">02</span> 因<span class="number">91</span>yun被爆隐私问题，删除其对应内容</span><br><span class="line"><span class="number">2017.07</span>.<span class="number">03</span> 更新大量锐速/bbr内容.</span><br><span class="line"><span class="number">2019.07</span>.<span class="number">12</span> 重新整理,删除无效引用,更新BBRPLUS,UDP2RAW,UDPspeeder等.</span><br><span class="line"><span class="number">2020.07</span>.<span class="number">23</span> 增加一部分注释</span><br><span class="line"><span class="number">2021.01</span>.<span class="number">08</span> 调整部分参数更为激进.</span><br></pre></td></tr></table></figure></li><li><p>参考</p><blockquote><p><span class="exturl" data-url="aHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vbGl4aW5nY29uZy8wZTEzYjQxMjNkMjlhNDY1ZTM2NGUyMzBiMmU0NWY2MCNmaWxlLXN5c2N0bC1jb25mLUwxNQ==">https://gist.github.com/lixingcong/0e13b4123d29a465e364e230b2e45f60#file-sysctl-conf-L15<i class="fa fa-external-link-alt"></i></span><br><span class="exturl" data-url="aHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vbGl4aW5nY29uZy8wZTEzYjQxMjNkMjlhNDY1ZTM2NGUyMzBiMmU0NWY2MA==">https://gist.github.com/lixingcong/0e13b4123d29a465e364e230b2e45f60<i class="fa fa-external-link-alt"></i></span></p></blockquote></li></ul><span id="more"></span><h2 id="导语"><a class="markdownIt-Anchor" href="#导语"></a> 导语</h2><ul><li><p>受制于二级运营商,无论国内国外,vps到本地非常惨不忍睹…</p></li><li><p>这里大致集合了自己常用方法,算是备用.</p></li><li><p>推荐使用 <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2NoaWFrZ2UvTGludXgtTmV0U3BlZWQ=">Linux-NetSpeed<i class="fa fa-external-link-alt"></i></span> ,集成了常用的加速手段 (但个人并未完整测试/审核,请自行确认).</p></li></ul><h2 id="总览"><a class="markdownIt-Anchor" href="#总览"></a> 总览</h2><ul><li><p>一般过程是 单边tcp-&gt;双边tcp.udp加速另算.</p></li><li><p>单边tcp加速(ovz无法进行内核操作,故单边进针对非ovz)</p><ul><li>首选 -&gt; 原版BBR,速度不够 -&gt; 魔改,两者均表现不佳 -&gt; BBRplus.</li><li>如果BBR一族表现不佳 -&gt; BBR+锐速.</li><li>如vps无法更换到linux kernel &gt;=4.9 -&gt; hybla+锐速.</li></ul></li><li><p>双边tcp加速.(ovz可用)</p><ul><li>首选 -&gt; Kcptun ,参数配置稍复杂,请参考相关例程.</li><li>备选 -&gt; FinalSpeed ,FS的暴力至今无有出其右,追求极限速度且isp并未对udp大量限速.</li><li>isp 对udp流量的限速,大量断流, -&gt; 串联 udp2raw .</li></ul></li><li><p>udp加速</p><ul><li>玩游戏 -&gt; UDPspeeder+Udp2raw</li><li>如果是其他类型的udp加速 -&gt; 串联 Udp2raw ,提升稳定性.</li></ul></li></ul><h2 id="tcp优化"><a class="markdownIt-Anchor" href="#tcp优化"></a> TCP优化</h2><ul><li><p>使用建议</p><ul><li>仅适用于 tcp 加速(<s>这不是废话吗</s>).</li><li>所以vps都应该进行一遍TCP优化</li><li>与其他优化兼容</li></ul></li><li><p>步骤</p><ul><li><p>增加TCP连接数量</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano /etc/security/limits.conf</span><br></pre></td></tr></table></figure><p>添加两行：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">* soft nofile 51200</span><br><span class="line">* hard nofile 51200</span><br></pre></td></tr></table></figure><p>保存(Ctrl + X —— y ——回车)</p></li><li><p>设置ulimit：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ulimit</span> -n 51200</span><br></pre></td></tr></table></figure></li><li><p>修改 sysctl.conf</p><ul><li><p>开始修改</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano /etc/sysctl.conf</span><br></pre></td></tr></table></figure></li><li><p>复制代码：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 系统所有进程一共可以打开的文件数量， 每个套接字也占用一个文件描述字</span></span><br><span class="line">fs.file-max = 1491124</span><br><span class="line"><span class="comment"># 提高整个系统的文件限制</span></span><br><span class="line">net.core.rmem_max = 67108864</span><br><span class="line">net.core.wmem_max = 67108864</span><br><span class="line"></span><br><span class="line"><span class="comment"># 增大内核 backlog 参数，使得系统能够保持更多的尚未完成 TCP 三次握手的套接字。</span></span><br><span class="line">net.ipv4.tcp_max_syn_backlog = 1048576</span><br><span class="line">net.core.netdev_max_backlog = 1048576</span><br><span class="line">net.core.somaxconn = 1048576</span><br><span class="line"></span><br><span class="line"><span class="comment"># 表示用于向外连接的端口范围</span></span><br><span class="line">net.ipv4.ip_local_port_range = 4096 65000</span><br><span class="line"><span class="comment"># 预留端口</span></span><br><span class="line">net.ipv4.ip_local_reserved_ports = 3000,3306,6379,27017,27018</span><br><span class="line"></span><br><span class="line"><span class="comment"># 系统中最多有多少个TCP套接字不被关联到任何一个用户文件句柄上。这个限制仅仅是为了防止简单的DoS攻击，不能过分依靠它或者人为地减小这个值，更应该增加这个值(如果增加了内存之后)</span></span><br><span class="line">net.ipv4.tcp_max_orphans = 131072</span><br><span class="line"></span><br><span class="line"><span class="comment"># 启用 TIME_WAIT 复用，使得结束 TIEM_WAIT 状态的套接字的端口可以立刻被其他套接字使用</span></span><br><span class="line">net.ipv4.tcp_tw_reuse = 1</span><br><span class="line"><span class="comment"># 表示系统同时保持TIME_WAIT的最大数量</span></span><br><span class="line">net.ipv4.tcp_max_tw_buckets = 55000</span><br><span class="line"></span><br><span class="line"><span class="comment"># 优化 nf_conntrack 参数，防止服务器出现大量短链接的时候出现丢包</span></span><br><span class="line">net.netfilter.nf_conntrack_max=1048576</span><br><span class="line">net.nf_conntrack_max=1048576</span><br><span class="line">net.netfilter.nf_conntrack_tcp_timeout_fin_wait=30</span><br><span class="line">net.netfilter.nf_conntrack_tcp_timeout_time_wait=30</span><br><span class="line">net.netfilter.nf_conntrack_tcp_timeout_close_wait=15</span><br><span class="line">net.netfilter.nf_conntrack_tcp_timeout_established=300</span><br><span class="line"></span><br><span class="line"><span class="comment"># 缩短套接字处于 TIME_WAIT 的时间， 60s -&gt; 15s</span></span><br><span class="line">net.ipv4.tcp_fin_timeout = 15</span><br><span class="line"></span><br><span class="line"><span class="comment"># 减小 tcp keepalive 探测次数，可以即时释放长链接</span></span><br><span class="line">net.ipv4.tcp_keepalive_probes = 3</span><br><span class="line"><span class="comment"># 缩短 tcp keepalive 探测间隔时间，同上</span></span><br><span class="line">net.ipv4.tcp_keepalive_intvl = 15</span><br><span class="line"><span class="comment"># 修改 tcp keepalive 默认超时时间</span></span><br><span class="line">net.ipv4.tcp_keepalive_time=1200</span><br><span class="line"></span><br><span class="line"><span class="comment"># 关闭慢启动重启(Slow-Start Restart), SSR 对于会出现突发空闲的长周期 TLS 连接有很大的负面影响</span></span><br><span class="line">net.ipv4.tcp_slow_start_after_idle = 0</span><br><span class="line"></span><br><span class="line"><span class="comment"># 启用 MTU 探测，在链路上存在 ICMP 黑洞时候有用（大多数情况是这样）</span></span><br><span class="line">net.ipv4.tcp_mtu_probing = 1</span><br><span class="line"></span><br><span class="line"><span class="comment"># 表示开启SYN Cookies。当出现SYN等待队列溢出时，启用cookies来处理，可防范少量SYN攻击，默认为0，表示关闭</span></span><br><span class="line">net.ipv4.tcp_syncookies = 1</span><br><span class="line"></span><br><span class="line"><span class="comment"># 当某个节点可用内存不足时, 系统会倾向于从其他节点分配内存。对 Mongo/Redis 类 cache 服务器友好</span></span><br><span class="line">vm.zone_reclaim_mode = 0</span><br><span class="line"></span><br><span class="line"><span class="comment"># 当内存使用率不足10%（默认值60%）时使用 swap，尽量避免使用 swap，减少唤醒软中断进程</span></span><br><span class="line">vm.swappiness = 10</span><br><span class="line"></span><br><span class="line"><span class="comment"># 内核执行无内存过量使用处理。使用这个设置会增大内存超载的可能性，但也可以增强大量使用内存任务 Mongo/Redis 的性能。</span></span><br><span class="line">vm.overcommit_memory = 1</span><br><span class="line"></span><br><span class="line"><span class="comment"># 表示开启TCP连接中TIME-WAIT sockets的快速回收，默认为0，表示关闭 为了对NAT设备更友好，建议设置为      0。</span></span><br><span class="line">net.ipv4.tcp_tw_recycle = 0</span><br><span class="line"></span><br><span class="line"><span class="comment"># 启用 tcp fast open</span></span><br><span class="line">net.ipv4.tcp_fastopen = 3</span><br><span class="line"></span><br><span class="line"><span class="comment"># 剩余内存 &gt; 300m</span></span><br><span class="line">net.core.rmem_default = 174760</span><br><span class="line">net.core.rmem_max = 2097152</span><br><span class="line">net.ipv4.tcp_rmem = 4096 174760 67108864</span><br><span class="line"></span><br><span class="line">net.core.wmem_default = 131072</span><br><span class="line">net.core.wmem_max = 2097152</span><br><span class="line">net.ipv4.tcp_wmem = 4096 131072 67108864</span><br><span class="line"></span><br><span class="line">net.ipv4.tcp_mem = 131072 262144 524288</span><br><span class="line"></span><br><span class="line"><span class="comment"># END OF LINE</span></span><br></pre></td></tr></table></figure></li><li><p>保存(Ctrl + X —— y ——回车)</p></li><li><p>应用</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sysctl -p</span><br></pre></td></tr></table></figure></li></ul></li></ul></li></ul><h2 id="tcp-bbr"><a class="markdownIt-Anchor" href="#tcp-bbr"></a> TCP-BBR</h2><ul><li><p>介绍</p><ul><li>BBR (Bottleneck Bandwidth and RTT)是由google工程师编写的新的 TCP 拥塞控制算法，目的是要尽量跑满带宽, 并且尽量不要有排队的情况.</li><li><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9iYnI=">开源地址<i class="fa fa-external-link-alt"></i></span>. 原理请参考知乎有关问答.</li></ul></li><li><p>使用建议</p><ul><li>开源,高效,相对公平,加速tcp首选.</li><li>修改版 BBR 更为激进</li><li>不会造成流量大量浪费.(修改版BBR相对会多一点)</li><li>只支持 linux4.9 及以上内核,低版本内核建议选择锐速+hybla.</li></ul></li><li><p>启用TCP-BBR涉及VPS更换内核，所以如果步骤错误，或者VPS不兼容最新的内核，会导致无法开机等错误，</p></li></ul><h3 id="原版bbr"><a class="markdownIt-Anchor" href="#原版bbr"></a> 原版BBR</h3><hr><ul><li><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2NoaWFrZ2UvTGludXgtTmV0U3BlZWQ=">Linux-NetSpeed<i class="fa fa-external-link-alt"></i></span> 已包含,选择3.</li></ul><hr><ul><li><p>脚本来自 <span class="exturl" data-url="aHR0cHM6Ly90ZWRkeXN1bi5jb20vNDg5Lmh0bWw=">秋水逸冰<i class="fa fa-external-link-alt"></i></span>.</p></li><li><p>系统支持：CentOS 6+，Debian 7+，Ubuntu 12+</p></li><li><p>虚拟技术：除 OpenVZ 外</p></li><li><p>内存要求：≥128M</p></li><li><p>连接SSH，输入下面命令，更新内核</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget --no-check-certificate https://github.com/teddysun/across/raw/master/bbr.sh</span><br><span class="line"><span class="built_in">chmod</span> +x bbr.sh</span><br><span class="line">./bbr.sh</span><br></pre></td></tr></table></figure></li><li><p>安装完成后，脚本会提示需要重启 VPS，输入 y 并回车后重启</p></li><li><p>重连SSH</p></li><li><p>验证 内核版本</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">uname</span> -r</span><br></pre></td></tr></table></figure><p>最新内核版本大于4.9即可.</p></li><li><p>修改sysctl.conf</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano /etc/sysctl.conf</span><br></pre></td></tr></table></figure><p>复制到最后一行</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># bbr</span></span><br><span class="line">net.core.default_qdisc=fq</span><br><span class="line">net.ipv4.tcp_congestion_control=bbr</span><br></pre></td></tr></table></figure><p>保存(Ctrl + X —— y ——回车)</p><p>应用</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sysctl -p</span><br></pre></td></tr></table></figure></li></ul><h3 id="修改版bbr"><a class="markdownIt-Anchor" href="#修改版bbr"></a> 修改版BBR</h3><ul><li><p>相对原版更为激进,加速效果更好.</p></li><li><p>提供 Vicer版 , 魔改版 2个版本.</p></li><li><p>注意：修改版BBR的一键脚本，支持系统较少，安装前需要确认自己的系统支持，如不在支持列表，自行Google即可，有大量第三方脚本。</p></li></ul><h4 id="vicer版bbr"><a class="markdownIt-Anchor" href="#vicer版bbr"></a> Vicer版BBR</h4><ul><li><p>脚本来自<span class="exturl" data-url="aHR0cHM6Ly9tb2VjbHViLm9yZy8yMDE3LzA2LzI0LzI3OC8=">Debian/Ubuntu TCP BBR 改进版/增强版<i class="fa fa-external-link-alt"></i></span></p></li><li><p>一键安装</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget --no-check-certificate -qO <span class="string">&#x27;BBR_POWERED.sh&#x27;</span> <span class="string">&#x27;https://moeclub.org/attachment/LinuxShell/BBR_POWERED.sh&#x27;</span> &amp;&amp; <span class="built_in">chmod</span> a+x BBR_POWERED.sh &amp;&amp; bash BBR_POWERED.sh</span><br></pre></td></tr></table></figure></li><li><p>遇到 <code>Error! Header not be matched by Linux Kernel.</code>参看<span class="exturl" data-url="aHR0cHM6Ly9tb2VjbHViLm9yZy8yMDE3LzA2LzA2LzI0OS8=">Debian/Ubuntu 开启 TCP BBR 拥塞算法<i class="fa fa-external-link-alt"></i></span>,依照 作者开启bbr 的脚本执行一遍即可。</p></li><li><p>遇到<code>Error! Install gcc-4.9.</code> 参见 Debian 7手动安装gcc4.9 小节.<br>，其他系统 执行 <code>apt-get update</code></p></li><li><p>安装完成后 执行<code>lsmod |grep 'bbr_powered'</code> 结果不为空,则加载模块成功</p></li></ul><h5 id="debian-7手动安装gcc49"><a class="markdownIt-Anchor" href="#debian-7手动安装gcc49"></a> Debian 7手动安装gcc4.9</h5><ul><li><p>修改系统更新源</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano /etc/apt/sources.<span class="keyword">list</span></span><br></pre></td></tr></table></figure></li><li><p>添加如下两个更新源</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">deb</span> http://ftp.<span class="keyword">cn</span>.debian.org/debian/ jessie main non-free contrib</span><br><span class="line"><span class="keyword">deb</span> http://ftp.uk.debian.org/debian/ jessie main non-free contrib</span><br></pre></td></tr></table></figure></li><li><p>保存(Ctrl + X —— y ——回车)</p></li><li><p>执行更新<br><code>apt-get update</code></p></li><li><p>检查可安装 gcc 版本列表<br><code>apt-cache search gcc</code></p></li><li><p>输出有gcc4.9 字样即可，数量无所谓</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">libx32gcc-<span class="number">4.8</span>-dev - GCC support library (x32 development <span class="keyword">files</span>)</span><br><span class="line">cpp-<span class="number">4.9</span> - GNU C preprocessor</span><br><span class="line">gcc-<span class="number">4.9</span> - GNU C <span class="keyword">compiler</span></span><br><span class="line">gcc-<span class="number">4.9</span>-base - GCC, the GNU Compiler Collection (base package)</span><br><span class="line">gcc-<span class="number">4.9</span>-locales - GCC, the GNU <span class="keyword">compiler</span> collection (native <span class="keyword">language</span> support <span class="keyword">files</span>)</span><br><span class="line">gcc-<span class="number">4.9</span>-multilib - GNU C <span class="keyword">compiler</span> (multilib <span class="keyword">files</span>)</span><br><span class="line">gcc-<span class="number">4.9</span>-plugin-dev - Files <span class="keyword">for</span> GNU GCC plugin development.</span><br><span class="line">gcc-<span class="number">4.9</span>-<span class="keyword">source</span> - Source of the GNU Compiler Collection</span><br><span class="line">gccgo-<span class="number">4.9</span> - GNU Go <span class="keyword">compiler</span></span><br><span class="line">gccgo-<span class="number">4.9</span>-multilib - GNU Go <span class="keyword">compiler</span> (multilib <span class="keyword">files</span>)</span><br><span class="line">gcj-<span class="number">4.9</span> - GCJ byte code <span class="built_in">and</span> native <span class="keyword">compiler</span> <span class="keyword">for</span> Java(TM)</span><br><span class="line">gcj-<span class="number">4.9</span>-jdk - GCJ <span class="built_in">and</span> Classpath development tools <span class="keyword">for</span> Java(TM)</span><br><span class="line">gcj-<span class="number">4.9</span>-jre-lib - Java <span class="keyword">runtime</span> library <span class="keyword">for</span> use with gcj (jar <span class="keyword">files</span>)</span><br><span class="line">gdc-<span class="number">4.9</span> - GNU D <span class="keyword">compiler</span> (<span class="keyword">version</span> <span class="number">2</span>), based <span class="keyword">on</span> the GCC backend</span><br><span class="line">gfortran-<span class="number">4.9</span> - GNU Fortran <span class="keyword">compiler</span></span><br><span class="line">gfortran-<span class="number">4.9</span>-multilib - GNU Fortran <span class="keyword">compiler</span> (multilib <span class="keyword">files</span>)</span><br><span class="line">gobjc++-<span class="number">4.9</span> - GNU Objective-C++ <span class="keyword">compiler</span></span><br><span class="line">gobjc++-<span class="number">4.9</span>-multilib - GNU Objective-C++ <span class="keyword">compiler</span> (multilib <span class="keyword">files</span>)</span><br><span class="line">gobjc-<span class="number">4.9</span> - GNU Objective-C <span class="keyword">compiler</span></span><br><span class="line">gobjc-<span class="number">4.9</span>-multilib - GNU Objective-C <span class="keyword">compiler</span> (multilib <span class="keyword">files</span>)</span><br></pre></td></tr></table></figure></li><li><p>命令<code>apt-get install g++-4.9</code> 安装g+±4.9</p></li></ul><h4 id="魔改版bbr"><a class="markdownIt-Anchor" href="#魔改版bbr"></a> 魔改版BBR</h4><hr><ul><li><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2NoaWFrZ2UvTGludXgtTmV0U3BlZWQ=">Linux-NetSpeed<i class="fa fa-external-link-alt"></i></span> 已包含,选择4.</li><li>同时还包括了更为暴力的魔改版BBR,选择5即可,但可能不支持部分系统.</li></ul><hr><ul><li><p>一键脚本</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate https://raw.githubusercontent.com/FunctionClub/YankeeBBR/master/bbr.sh &amp;&amp; bash bbr.sh install</span><br></pre></td></tr></table></figure><p>之后选择重启系统，重连SSH</p></li><li><p>输入命令 <code>bash bbr.sh start</code> 即可完成安装</p></li><li><p>验证 <code>sysctl net.ipv4.tcp_available_congestion_control</code> 返回命令有 tsunami 即可。</p></li></ul><h3 id="bbrplus"><a class="markdownIt-Anchor" href="#bbrplus"></a> BBRplus</h3><ul><li><p>BBRplus与魔改版,稍有不同,是 @dog250 在<span class="exturl" data-url="aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2RvZzI1MC9hcnRpY2xlL2RldGFpbHMvODA2Mjk1NTE=">让人们久等了的TCP BBR v2.0快要出炉了！<i class="fa fa-external-link-alt"></i></span> 中，提到了bbr初版的两个问题,及解决的代码.而 @cx9208 又将其编译命名成 BBRplus.</p></li><li><p>在原版/魔改BBR 不适用的场景下可以试试 BBRplus 或许有奇效.</p></li><li><p><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2N4OTIwOC9iYnJwbHVz">开源地址<i class="fa fa-external-link-alt"></i></span></p></li><li><p>@cx9208 只提供了 CentOS 的安装脚本,但在 <span class="exturl" data-url="aHR0cDovL1JFQURNRS5tZA==">README.md<i class="fa fa-external-link-alt"></i></span> 推荐了 @chiakge 的 <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2NoaWFrZ2UvTGludXgtTmV0U3BlZWQ=">Linux-NetSpeed<i class="fa fa-external-link-alt"></i></span> 项目,经过测试适用于 debian(其他请自行测试).</p></li><li><p>选择7安装即可.</p></li></ul><h2 id="hybla"><a class="markdownIt-Anchor" href="#hybla"></a> hybla</h2><ul><li><p>hybla 是传统上基于丢包的 tcp拥塞控制算法.适用于高延迟高丢包率环境.虽然远远比不上 bbr ,但还是要比其他的算法要强.在低版本linux内核(&lt;4.9)可用.建议配合锐速使用.</p></li><li><p>修改内核参数适合的还是hybla<br>首先看一下VPS现有算法：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sysctl net.ipv4.tcp_available_congestion_control</span><br></pre></td></tr></table></figure></li><li><p>没有hybla时，加载hybla算法.</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/sbin/modprobe tcp_hybla</span><br></pre></td></tr></table></figure></li><li><p>编辑 sysctl.conf 文件</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano /etc/sysctl.conf</span><br></pre></td></tr></table></figure><p>最后一行添加</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">net.ipv4.tcp_congestion_control = hybla</span><br></pre></td></tr></table></figure><p>保存(Ctrl + X —— y ——回车)</p></li><li><p>应用</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sysctl -p</span><br></pre></td></tr></table></figure></li></ul><h2 id="锐速"><a class="markdownIt-Anchor" href="#锐速"></a> 锐速</h2><ul><li><p>介绍</p><ul><li>锐速（ServerSpeeder 或 lotServer）加速软件是一种基于ZETATCP加速引擎的软件，只需单边部署就可以起到显著加速效果的 TCP 加速技术.</li><li>2016年已停止免费用户.以下提供的破解版安装方式,收集自网络.仅供个人实验使用,请支持正版.</li></ul></li><li><p>使用建议</p><ul><li><p>仅适用于 tcp 加速.</p></li><li><p>锐速为闭源软件,且目前 BBR 已经有足够加速效果,锐速并非首选.</p></li><li><p><s>与 BBR 目前不兼容，二者取其一可满足大部分需要加速场景</s>,锐速目前支持一部分发行版的高版本内核,可以与 BBR 同时安装,具体请参考<span class="exturl" data-url="aHR0cDovL2Rvd25sb2FkLmFwcGV4bmV0d29ya3MuY29tLmNuL2xzLmRvP209YXZhaWxhYmxlcw==">LotServer 支持当前主流 Linux 系统的官方发行版本<i class="fa fa-external-link-alt"></i></span></p></li><li><p>默认参数即可满足大部分场景，除非很慢，否则不推荐更改配置文件.</p></li></ul></li></ul><hr><ul><li><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2NoaWFrZ2UvTGludXgtTmV0U3BlZWQ=">Linux-NetSpeed<i class="fa fa-external-link-alt"></i></span> 已包含,但建议还是由 @Vicer 的脚本安装.</li></ul><hr><ul><li><p>安装</p><ul><li><p>相关内容来自 <span class="exturl" data-url="aHR0cHM6Ly9tb2VjbHViLm9yZw==">@Vicer<i class="fa fa-external-link-alt"></i></span>的 <span class="exturl" data-url="aHR0cHM6Ly9tb2VjbHViLm9yZy8yMDE3LzAzLzA5LzE0Lw==">[lotServer] [serverSpeeder] [锐速] 安装<i class="fa fa-external-link-alt"></i></span>,感谢原作者!</p></li><li><p>安装</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(wget --<span class="keyword">no</span>-check-certificate -qO- https://github.<span class="keyword">com</span>/MoeClub/lotServer/raw/master/Install.<span class="keyword">sh</span>) install</span><br></pre></td></tr></table></figure></li><li><p>中间提示全部输入 y 即可，等待安装完成</p></li><li><p>卸载</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(wget --<span class="keyword">no</span>-check-certificate -qO- https://github.<span class="keyword">com</span>/MoeClub/lotServer/raw/master/Install.<span class="keyword">sh</span>) uninstall</span><br></pre></td></tr></table></figure></li></ul></li><li><p>常用命令</p><ul><li>启动命令 <code>/appex/bin/lotServer.sh start</code></li><li>状态查询 <code>/appex/bin/lotServer.sh status</code></li><li>停止加速 <code>/appex/bin/lotServer.sh stop</code></li><li>更新许可 <code>/appex/bin/serverSpeeder.sh renewLic</code></li><li>重新启动 <code>/appex/bin/serverSpeeder.sh restart</code></li></ul></li></ul><h3 id="锐速配置文件修改"><a class="markdownIt-Anchor" href="#锐速配置文件修改"></a> 锐速配置文件修改</h3><ul><li><p>详细配置文档</p><blockquote><p><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tLzBvVmljZXJvMC9zZXJ2ZXJTcGVlZGVyX0luc3RhbGwvYmxvYi9tYXN0ZXIvbG90U2VydmVyLnBkZg==">https://github.com/0oVicero0/serverSpeeder_Install/blob/master/lotServer.pdf<i class="fa fa-external-link-alt"></i></span></p></blockquote></li><li><p>配置文件在<code>/serverspeeder/etc/config</code></p></li><li><p>首先确保下面3个参数开启</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">rsc=<span class="string">&quot;1&quot;</span> #RSC 网卡驱动模式</span><br><span class="line">advinacc=<span class="string">&quot;1&quot;</span> #流量方向加速</span><br><span class="line">maxmode=<span class="string">&quot;1&quot;</span> #最大传输模式</span><br></pre></td></tr></table></figure></li><li><p>DO vps还要开启gso</p></li><li><p>下面是一些个人测试对加速有效果的选项，请结合网络环境自行测试</p><ul><li><p>initialCwndWan=“64″<br>初始 TCP 发送窗口能够发送的数据包的数量，该值设置的高会获得更好的加速效果，但是可能会造成网络的拥塞。使用值在60以下有效果</p></li><li><p>l2wQLimit=”1024 4096″<br>从 LAN 到 WAN 加速引擎在缓冲池充满和空闲时分别能够缓存的数据包队列的长度的上限，该值设置的高会获得更好的加速效果，但是会消耗更多的内存。<br>w2lQLimit=”1024 4096″<br>从 WAN 到 LAN 加速引擎在缓冲池充满和空闲时分别能够缓存的数据包队列的长度的上限，该值设置的高会获得更好的加速效果，但是会消耗更多的内存。</p></li><li><p>halfCwndMinSRtt=”500″<br>halfCwndLossRateShift=”3″<br>以上两个值用于判断网络拥塞，分别为延时和丢包率，丢包率默认值为 3，即1/2^3，当拥塞产生时，退出第三代 Learning-based TCP 算法，采用类似传统 TCP 的算法。<br>此处对于高丢包的线路来说，直接设置为1，即丢包百分之50以上时，才退出Learning-based TCP 算法(这会导致高丢包线路上增加流量消耗)</p></li></ul></li><li><p>修改完成后，重启锐速</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/serverspeeder/bin/serverSpeeder.sh restart</span><br></pre></td></tr></table></figure></li></ul><h2 id="finalspeed"><a class="markdownIt-Anchor" href="#finalspeed"></a> FinalSpeed</h2><ul><li><p>介绍</p><ul><li>FinalSpeed是高速双边加速软件,可加速所有基于tcp协议的网络服务,在高丢包和高延迟环境下,仍可达到90%的物理带宽利用率,即使高峰时段也能轻松跑满带宽可以与锐速共存.免费版已停止更新.<br>疯狂发包,对邻居非常不公平.</li></ul></li><li><p>使用建议</p><ul><li>FinalSpeed现在已停止更新,不建议使用.此处提及仅作为记录和测试.</li><li>OVZ虚拟化的vps上只可用udp模式，udp在国内被封杀较严重，导致链接中断等。</li></ul></li><li><p>安装</p><ul><li><p>官方移除了安装方法，以下安装方式来自 <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL0tvcnVkb0t5YXR0by9GaW5hbFNwZWVk">github备份<i class="fa fa-external-link-alt"></i></span>。</p></li><li><p>安装命令:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">rm</span> -f install_fs.sh</span><br><span class="line">wget https://raw.githubusercontent.com/KorudoKyatto/FinalSpeed/master/install_fs.sh</span><br><span class="line"><span class="built_in">chmod</span> +x install_fs.sh</span><br><span class="line">./install_fs.sh 2&gt;&amp;1 | <span class="built_in">tee</span> install.log</span><br></pre></td></tr></table></figure></li><li><p>一键安装完成后，vps会自动安装java环境。</p></li><li><p>卸载：</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">sh</span> /fs/<span class="keyword">stop</span>.<span class="keyword">sh</span> ; rm -rf /fs</span><br></pre></td></tr></table></figure></li><li><p>设置开机启动：</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chmod +<span class="keyword">x</span> /etc/rc.local</span><br><span class="line"><span class="keyword">vi</span> /etc/rc.local</span><br></pre></td></tr></table></figure></li><li><p>然后加入</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">sh</span> /fs/start.<span class="keyword">sh</span></span><br></pre></td></tr></table></figure></li><li><p>每天晚上1点自动重启：</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">crontab -<span class="keyword">e</span></span><br><span class="line"><span class="number">0</span> <span class="number">1</span> * * * <span class="keyword">sh</span> /fs/restart.<span class="keyword">sh</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p>FinalSpeed windows客户端</p><ul><li>官方最新版本为1.2 更新日志上表明cpu占用降低30%，但是稳定性较差，时常挂掉。推荐FinalSpeed1.12测试版.</li></ul></li><li><p>常用命令</p><ul><li><p>启动：</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">sh</span> /fs/start.<span class="keyword">sh</span></span><br></pre></td></tr></table></figure></li><li><p>停止：</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">sh</span> /fs/<span class="keyword">stop</span>.<span class="keyword">sh</span></span><br></pre></td></tr></table></figure></li><li><p>重新启动：</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">sh</span> /fs/restart.<span class="keyword">sh</span></span><br></pre></td></tr></table></figure></li><li><p>运行日志：</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tail -<span class="keyword">f</span> /fs/server.<span class="built_in">log</span></span><br></pre></td></tr></table></figure></li></ul></li></ul><h2 id="kcptun"><a class="markdownIt-Anchor" href="#kcptun"></a> Kcptun</h2><ul><li><p>介绍</p><ul><li>Kcptun 基于 KCP 协议的 UDP 隧道，它可以将 TCP 流转换为 KCP+UDP 流。而 KCP 是一个快速可靠协议，能以比 TCP 浪费10%-20%的带宽的代价，换取平均延迟降低 30%-40%，且最大延迟降低三倍的传输效果.<br>暴力发包比fs稍好.</li></ul></li><li><p>使用建议</p><ul><li>仅适用于 tcp 加速.</li><li>在对udp的限速非常厉害的环境中,仅 Kcptun 断流可能非常严重.还需要配合 udp2raw 使用.</li><li>不挑平台,小内存VPS可用(64M内存服务器稳定运行)，OVZ可用.</li><li>不当配置将带来大量流量消耗</li></ul></li><li><p>安装</p><ul><li>未进行详细测试,请自行 google.</li></ul></li></ul><h2 id="udpspeeder"><a class="markdownIt-Anchor" href="#udpspeeder"></a> UDPspeeder</h2><ul><li>双边网络加速工具,软件本身的功能是 <strong>加速UDP</strong> ,用1.5倍的流量,就可以把10%的丢包率降低到万分之一以下.</li><li>使用,配置等作者在 <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3dhbmd5dS0vVURQc3BlZWRlci9ibG9iL2JyYW5jaF9saWJldi9kb2MvUkVBRE1FLnpoLWNuLm1k">README.zh-cn.md<i class="fa fa-external-link-alt"></i></span> 说的非常完善了.</li></ul><h2 id="udp2raw-tunnel"><a class="markdownIt-Anchor" href="#udp2raw-tunnel"></a> Udp2raw-tunnel</h2><ul><li><p>udp2raw tunnel，通过raw socket给UDP包加上TCP或ICMP header，进而绕过UDP屏蔽或QoS，或在UDP不稳定的环境下提升稳定性。可以有效防止在使用kcptun或者finalspeed的情况下udp端口被运营商限速。</p></li><li><p>参照<span class="exturl" data-url="aHR0cHM6Ly9qYXNwZXItMTAyNC5naXRodWIuaW8vMjAxOS8wMi8yMC9saW51eCVFNyVBQyU5NCVFOCVBRSVCMCVFMiU4MCU5NCVFMiU4MCU5NGRvY2tlciVFOCVCRiU5MCVFOCVBMSU4Q1VkcDJyYXcv">linux笔记——docker运行Udp2raw<i class="fa fa-external-link-alt"></i></span></p></li></ul><h2 id="结束"><a class="markdownIt-Anchor" href="#结束"></a> 结束</h2></div><footer class="post-footer"><template id="not-by-ai-badge-template"><li class="post-copyright-not-by-ai"><strong>Not By AI:</strong> <a class="not-by-ai-badge-link" href="https://notbyai.fyi/tw/" target="_blank" rel="noopener noreferrer" title="Not By AI"><img class="not-by-ai-badge not-by-ai-badge--light" src="/images/not-by-ai-written-black-tw.svg" alt="Written By Human, Not By AI"> <img class="not-by-ai-badge not-by-ai-badge--dark" src="/images/not-by-ai-written-white-tw.svg" alt="Written By Human, Not By AI"></a></li></template><div class="post-copyright"><ul><li class="post-copyright-author"><strong>本文作者： </strong>Jasper</li><li class="post-copyright-link"><strong>本文链接：</strong> <a href="https://jasper1024.com/jasper/5927e146/" title="VPS网络优化and加速">https://jasper1024.com/jasper/5927e146/</a></li><li class="post-copyright-license"><strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC8="><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div><div class="post-tags"><a href="/tags/VPS/" rel="tag"># VPS</a></div><div class="post-nav"><div class="post-nav-item"><a href="/jasper/66ed378c/" rel="prev" title="开端"><i class="fa fa-angle-left"></i> 开端</a></div><div class="post-nav-item"><a href="/jasper/302402c5/" rel="next" title="单片机课程设计总结">单片机课程设计总结 <i class="fa fa-angle-right"></i></a></div></div></footer></article></div><div class="tabs tabs-comment"><ul class="nav-tabs"><li class="tab"><a href="#comment-utterances">utterances</a></li><li class="tab"><a href="#comment-disqus">disqus</a></li></ul><div class="tab-content"><div class="tab-pane utterances" id="comment-utterances"><div class="comments utterances-container"></div></div><div class="tab-pane disqus" id="comment-disqus"><div class="comments" id="disqus_thread"><noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript></div></div></div></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; 2016 – <span itemprop="copyrightYear">2026</span> <span class="with-love"><i class="fa fa-user"></i> </span><span class="author" itemprop="copyrightHolder">JasperHale</span></div><div class="wordcount"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-chart-line"></i> </span><span>站点总字数：</span> <span title="站点总字数">1.2m</span> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-coffee"></i> </span><span>站点阅读时长 &asymp;</span> <span title="站点阅读时长">18:54</span></span></div><div class="powered-by">由 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & <span class="exturl" data-url="aHR0cHM6Ly90aGVtZS1uZXh0LmpzLm9yZy9waXNjZXMv">NexT.Pisces</span> 强力驱动</div></div></footer><div class="toggle sidebar-toggle" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div><div class="sidebar-dimmer"></div><div class="reading-progress-bar"></div><span class="exturl github-corner" data-url="aHR0cHM6Ly9naXRodWIuY29tL0phc3Blci0xMDI0" title="在 GitHub 上关注我" aria-label="在 GitHub 上关注我"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></span><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><script class="next-config" data-name="disqus" type="application/json">{"enable":true,"shortname":"jasper1024","count":true,"i18n":{"disqus":"disqus"}}</script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-next@8.27.0/source/js/third-party/comments/disqus.min.js" defer></script><script class="next-config" data-name="utterances" type="application/json">{"enable":true,"repo":"Jasper-1024/blog_discuss","issue_term":"pathname","theme":"github-dark"}</script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-next@8.27.0/source/js/third-party/comments/utterances.min.js" defer></script><script>!function(){function e(){var e,t=document.getElementById("not-by-ai-badge-template");t&&t.content&&((e=document.querySelector(".post-copyright ul"))&&(e.querySelector(".post-copyright-not-by-ai")||e.appendChild(t.content.cloneNode(!0))))}e(),document.addEventListener("pjax:complete",e)}()</script><div class="moon-menu"><div class="moon-menu-items"><div id="moon-menu-item-back2bottom" class="moon-menu-item"><i class="fas fa-chevron-down"></i></div><div id="moon-menu-item-back2top" class="moon-menu-item"><i class="fas fa-chevron-up"></i></div></div><div class="moon-menu-button"><svg class="moon-menu-bg"><circle class="moon-menu-cricle" cx="50%" cy="50%" r="44%"></circle><circle class="moon-menu-border" cx="50%" cy="50%" r="48%"></circle></svg><div class="moon-menu-content"><div class="moon-menu-icon"><i class="fas fa-ellipsis-v"></i></div><div class="moon-menu-text"></div></div></div></div><script src="/js/injector.js"></script></body></html>